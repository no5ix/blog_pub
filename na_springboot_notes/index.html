<!DOCTYPE html>



  


<html class="theme-next mist use-motion" lang="en">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">


  <meta name="theme-color" content="#222" media="(prefers-color-scheme: light)">
  <meta name="theme-color" content="#222" media="(prefers-color-scheme: dark)">

<script>
    (function(){
        if('ees'){
            let localStoragePasswdKey = 'Spring Boot Notes' + '_last_passwd';
            function checkPassword(password) {
                password = password == null ? null : password.trim();
                if (password !== 'ees') {
                    if (password != null) {
                        // å¦‚æœç”¨æˆ·ç‚¹å‡»äº†ç¡®è®¤è€Œä¸”å¯†ç é”™è¯¯çš„æ—¶å€™, å› ä¸ºå½“password == nullçš„æ—¶å€™è¯´æ˜ç”¨æˆ·ç‚¹äº†å–æ¶ˆ
                        alert('Error!');
                    }
                    if (history.length > 1) {
                        history.back();
                    } else {
                        window.location.href = "about:blank";
                    }
                } else {
                    localStorage.setItem(localStoragePasswdKey, password);
                }
            }

            var password_verify_on_local = false;
            const hostname = window.location.hostname;
            if (password_verify_on_local || (!(hostname === "localhost" || hostname === "127.0.0.1" || hostname === "::1" || hostname.startsWith("192")))) {
                const lspk = localStorage.getItem(localStoragePasswdKey) || "";
                if (lspk !== 'ees') {
                    var password = prompt('Open Sesame');
                    checkPassword(password);
                }
            }
        }
    })();
</script>








<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">





















<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.2" rel="stylesheet" type="text/css">


  <meta name="keywords" content="noodle,Java,NA,SpringBoot,">








  <link rel="shortcut icon" type="image/x-icon" href="/images/favicon.ico?v=5.1.2">






<meta name="description" content="å‚è€ƒé“¾æ¥ è§†é¢‘æ•™ç¨‹  . . .">
<meta name="keywords" content="noodle,Java,NA,SpringBoot">
<meta property="og:type" content="article">
<meta property="og:title" content="Spring Boot Notes">
<meta property="og:url" content="https://hulinhong.com/na_springboot_notes/index.html">
<meta property="og:site_name" content="ğŸš™">
<meta property="og:description" content="å‚è€ƒé“¾æ¥ è§†é¢‘æ•™ç¨‹  . . .">
<meta property="og:locale" content="en">
<meta property="og:image" content="https://hulinhong.com/img/na_springboot_notes/image.png">
<meta property="og:updated_time" content="2025-04-05T07:17:16.714Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Spring Boot Notes">
<meta name="twitter:description" content="å‚è€ƒé“¾æ¥ è§†é¢‘æ•™ç¨‹  . . .">
<meta name="twitter:image" content="https://hulinhong.com/img/na_springboot_notes/image.png">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    sidebar: {"position":"left","display":"always","offset":12,"offset_float":12,"scrollpercent":true,"onmobile":true,"dimmer":true,"body_content_height":0,"display_duration":150},
    local_search: {"enable":true,"trigger":"auto","top_n_per_article":1},
    fancybox: false,
    mediumzoom: true,
    darkmode_js: false,
    tabs: true,
    motion: {"enable":true,"async":false,"duration":188,"transition":{"header":"fadeIn","menu":"fadeIn","logo":"fadeIn","post_block_else":"fadeIn","post_header":"fadeIn","post_body":"fadeIn","coll_header":"fadeIn","footer":"fadeIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>








  <title>Spring Boot Notes | ğŸš™</title>
  














</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">ğŸš™</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">ğŸ’¨ ğŸ’¨ ğŸ’¨</p>
      
  </div>

  <div class="menu-item sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <div class="menu-item site-search">
    
  
  <div class="site-search-div">
    <button class="search-icon" id="search-button">
      <i class="fa fa-search"></i>
    </button>
    <input type="text" id="local-search-input" class="st-search-input">
    <i id="local-search-close">Ã—</i>
  </div>


<script type="text/javascript" id="local.search.active">
    {/* var inputArea       = document.querySelector("#local-search-input");
    inputArea.onclick   = function(){ getSearchFile(); this.focus(); }
    inputArea.onkeydown = function(){ if(event.keyCode == 13) return false } */}
</script>



  </div>
  <div id="local-search-result-pc" class="local-search-result-cls"></div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  
  

  
    <ul id="menu" class="menu menu-left">
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br>
            
            Categories
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br>
            
            About
          </a>
        </li>
      

       
    </ul>
  

  
    
  
</nav>



 </div>
    </header>

    <div id="local-search-result-mobile" class="local-search-result-cls"></div>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://hulinhong.com/na_springboot_notes/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Mike">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/uploads/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ğŸš™">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">Spring Boot Notes</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-01-18T21:54:08+00:00">
                01-18-2019
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Noodle/" itemprop="url" rel="index">
                    <span itemprop="name">Noodle</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            <div class="post-tags">
              
                <a href="/tags/noodle/" rel="tag"><i class="fa fa-tag"></i> noodle</a>
              
                <a href="/tags/Java/" rel="tag"><i class="fa fa-tag"></i> Java</a>
              
                <a href="/tags/NA/" rel="tag"><i class="fa fa-tag"></i> NA</a>
              
                <a href="/tags/SpringBoot/" rel="tag"><i class="fa fa-tag"></i> SpringBoot</a>
              
            </div>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    




    
    
    
    <div class="post-body" itemprop="articleBody">
      
      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/na_little_dinosaur_java_top_questions_notes/" rel="next" title="LD Questions notes">
                <i class="fa fa-chevron-left"></i> 
                <p class="post-nav-pre-next-title">
                  LD Questions notes
                </p> 
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/na_word_list/" rel="prev" title="IT Word List">
              <p class="post-nav-pre-next-title">
                  IT Word List
              </p> 
              <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      

      
      

      
        <h1 id="å‚è€ƒé“¾æ¥"><a href="#å‚è€ƒé“¾æ¥" class="headerlink" title="å‚è€ƒé“¾æ¥"></a>å‚è€ƒé“¾æ¥</h1><ul>
<li><a href="https://www.bilibili.com/video/BV1Fi4y1S7ix?spm_id_from=333.788.videopod.episodes&amp;vd_source=8a83b38420b65ac33aa101b7754630f6&amp;p=27" target="_blank" rel="noopener">è§†é¢‘æ•™ç¨‹</a></li>
</ul>
<p><strong>. . .</strong><a id="more"></a></p>
<h1 id="spring-çš„beanæ˜¯å•¥æ„æ€"><a href="#spring-çš„beanæ˜¯å•¥æ„æ€" class="headerlink" title="spring çš„beanæ˜¯å•¥æ„æ€"></a>spring çš„beanæ˜¯å•¥æ„æ€</h1><p>åœ¨ Spring æ¡†æ¶ä¸­ï¼Œâ€œBeanâ€ æ˜¯ä¸€ä¸ªæ ¸å¿ƒæ¦‚å¿µï¼Œå®ƒæ˜¯è¢« Spring å®¹å™¨ç®¡ç†çš„å¯¹è±¡ã€‚ä¸‹é¢ä»å¤šä¸ªæ–¹é¢è¯¦ç»†è§£é‡Š Spring çš„ Bean æ˜¯ä»€ä¹ˆï¼š</p>
<h2 id="å®šä¹‰ä¸æœ¬è´¨"><a href="#å®šä¹‰ä¸æœ¬è´¨" class="headerlink" title="å®šä¹‰ä¸æœ¬è´¨"></a>å®šä¹‰ä¸æœ¬è´¨</h2><p>åœ¨ Spring é‡Œï¼ŒBean æœ¬è´¨ä¸Šå°±æ˜¯ç”± Spring å®¹å™¨å®ä¾‹åŒ–ã€ç»„è£…å’Œç®¡ç†çš„æ™®é€š Java å¯¹è±¡ã€‚è¿™äº›å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸï¼ˆåˆ›å»ºã€åˆå§‹åŒ–ã€ä½¿ç”¨å’Œé”€æ¯ï¼‰éƒ½ç”± Spring å®¹å™¨æ¥æ§åˆ¶ï¼Œè€Œä¸æ˜¯ç”±ç¨‹åºå‘˜åœ¨ä»£ç ä¸­æ‰‹åŠ¨åˆ›å»ºå’Œç®¡ç†ã€‚ä¾‹å¦‚ï¼Œåœ¨ä¼ ç»Ÿ Java å¼€å‘ä¸­ï¼Œæˆ‘ä»¬ä¼šä½¿ç”¨ <code>new</code> å…³é”®å­—æ¥åˆ›å»ºå¯¹è±¡ï¼š<br><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">UserService userService = <span class="keyword">new</span> UserServiceImpl();</span><br></pre></td></tr></table></figure></p>
<p>ä½†åœ¨ Spring æ¡†æ¶ä¸­ï¼ŒSpring å®¹å™¨ä¼šè´Ÿè´£åˆ›å»º <code>UserService</code> å¯¹è±¡ï¼Œæˆ‘ä»¬åªéœ€è¦ä»å®¹å™¨ä¸­è·å–è¿™ä¸ªå¯¹è±¡å³å¯ä½¿ç”¨ã€‚</p>
<h2 id="Bean-çš„åˆ›å»ºæ–¹å¼"><a href="#Bean-çš„åˆ›å»ºæ–¹å¼" class="headerlink" title="Bean çš„åˆ›å»ºæ–¹å¼"></a>Bean çš„åˆ›å»ºæ–¹å¼</h2><p>Spring å®¹å™¨åˆ›å»º Bean æœ‰å¤šç§æ–¹å¼ï¼Œå¸¸è§çš„æœ‰ä»¥ä¸‹å‡ ç§ï¼š</p>
<ul>
<li><strong>åŸºäº XML é…ç½®</strong>ï¼šåœ¨ Spring çš„ XML é…ç½®æ–‡ä»¶ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ <code>&lt;bean&gt;</code> æ ‡ç­¾æ¥å®šä¹‰ Beanã€‚ç¤ºä¾‹å¦‚ä¸‹ï¼š<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"userService"</span> <span class="attr">class</span>=<span class="string">"com.example.service.UserServiceImpl"</span>/&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>è¿™é‡Œçš„ <code>id</code> æ˜¯ Bean çš„å”¯ä¸€æ ‡è¯†ç¬¦ï¼Œ<code>class</code> æ˜¯ Bean å¯¹åº”çš„ Java ç±»çš„å…¨é™å®šåã€‚Spring å®¹å™¨ä¼šæ ¹æ®è¿™ä¸ªé…ç½®ä¿¡æ¯åˆ›å»º <code>UserServiceImpl</code> ç±»çš„å®ä¾‹ã€‚</p>
<ul>
<li><strong>åŸºäºæ³¨è§£</strong>ï¼šä½¿ç”¨ Spring çš„æ³¨è§£å¯ä»¥æ›´æ–¹ä¾¿åœ°å®šä¹‰ Beanã€‚ä¾‹å¦‚ï¼Œä½¿ç”¨ <code>@Component</code>ã€<code>@Service</code>ã€<code>@Repository</code> å’Œ <code>@Controller</code> ç­‰æ³¨è§£ã€‚ç¤ºä¾‹å¦‚ä¸‹ï¼š<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Service;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserServiceImpl</span> <span class="keyword">implements</span> <span class="title">UserService</span> </span>&#123;</span><br><span class="line">    <span class="comment">// ç±»çš„å…·ä½“å®ç°</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p><code>@Service</code> æ³¨è§£è¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªæœåŠ¡å±‚çš„ Beanï¼ŒSpring ä¼šè‡ªåŠ¨æ‰«æå¸¦æœ‰è¿™äº›æ³¨è§£çš„ç±»ï¼Œå¹¶å°†å®ƒä»¬æ³¨å†Œä¸º Beanã€‚</p>
<ul>
<li><strong>åŸºäº Java é…ç½®ç±»</strong>ï¼šä½¿ç”¨ Java é…ç½®ç±»å’Œ <code>@Bean</code> æ³¨è§£æ¥å®šä¹‰ Beanã€‚ç¤ºä¾‹å¦‚ä¸‹ï¼š<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Bean;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AppConfig</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> UserService <span class="title">userService</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> UserServiceImpl();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p><code>@Configuration</code> æ³¨è§£è¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªé…ç½®ç±»ï¼Œ<code>@Bean</code> æ³¨è§£ç”¨äºå®šä¹‰ä¸€ä¸ª Beanï¼Œæ–¹æ³•å <code>userService</code> å°±æ˜¯ Bean çš„åç§°ã€‚</p>
<h2 id="Bean-çš„ç”Ÿå‘½å‘¨æœŸ"><a href="#Bean-çš„ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="Bean çš„ç”Ÿå‘½å‘¨æœŸ"></a>Bean çš„ç”Ÿå‘½å‘¨æœŸ</h2><p>Spring å®¹å™¨ç®¡ç†çš„ Bean æœ‰å…¶å®Œæ•´çš„ç”Ÿå‘½å‘¨æœŸï¼Œä¸»è¦åŒ…æ‹¬ä»¥ä¸‹å‡ ä¸ªé˜¶æ®µï¼š</p>
<ol>
<li><strong>å®ä¾‹åŒ–</strong>ï¼šSpring å®¹å™¨æ ¹æ®é…ç½®ä¿¡æ¯åˆ›å»º Bean çš„å®ä¾‹ã€‚</li>
<li><strong>å±æ€§æ³¨å…¥</strong>ï¼šå¦‚æœ Bean æœ‰ä¾èµ–çš„å±æ€§ï¼ŒSpring å®¹å™¨ä¼šå°†è¿™äº›ä¾èµ–æ³¨å…¥åˆ° Bean ä¸­ã€‚</li>
<li><strong>åˆå§‹åŒ–</strong>ï¼šåœ¨ Bean å®ä¾‹åˆ›å»ºå¹¶å®Œæˆå±æ€§æ³¨å…¥åï¼ŒSpring å®¹å™¨ä¼šè°ƒç”¨ Bean çš„åˆå§‹åŒ–æ–¹æ³•ï¼ˆå¦‚æœæœ‰å®šä¹‰ï¼‰ï¼Œå¯ä»¥é€šè¿‡å®ç° <code>InitializingBean</code> æ¥å£çš„ <code>afterPropertiesSet()</code> æ–¹æ³•æˆ–ä½¿ç”¨ <code>@PostConstruct</code> æ³¨è§£æ¥å®šä¹‰åˆå§‹åŒ–é€»è¾‘ã€‚</li>
<li><strong>ä½¿ç”¨</strong>ï¼šBean åˆå§‹åŒ–å®Œæˆåï¼Œå°±å¯ä»¥è¢«åº”ç”¨ç¨‹åºä½¿ç”¨äº†ã€‚</li>
<li><strong>é”€æ¯</strong>ï¼šå½“ Spring å®¹å™¨å…³é—­æ—¶ï¼Œä¼šè°ƒç”¨ Bean çš„é”€æ¯æ–¹æ³•ï¼ˆå¦‚æœæœ‰å®šä¹‰ï¼‰ï¼Œå¯ä»¥é€šè¿‡å®ç° <code>DisposableBean</code> æ¥å£çš„ <code>destroy()</code> æ–¹æ³•æˆ–ä½¿ç”¨ <code>@PreDestroy</code> æ³¨è§£æ¥å®šä¹‰é”€æ¯é€»è¾‘ã€‚</li>
</ol>
<h2 id="Bean-çš„ä½œç”¨åŸŸ"><a href="#Bean-çš„ä½œç”¨åŸŸ" class="headerlink" title="Bean çš„ä½œç”¨åŸŸ"></a>Bean çš„ä½œç”¨åŸŸ</h2><p>Spring æ”¯æŒå¤šç§ Bean çš„ä½œç”¨åŸŸï¼Œå¸¸è§çš„æœ‰ä»¥ä¸‹å‡ ç§ï¼š</p>
<ul>
<li><strong>å•ä¾‹ï¼ˆSingletonï¼‰</strong>ï¼šé»˜è®¤çš„ä½œç”¨åŸŸï¼ŒSpring å®¹å™¨åªä¼šåˆ›å»ºä¸€ä¸ª Bean å®ä¾‹ï¼Œæ‰€æœ‰å¯¹è¯¥ Bean çš„è¯·æ±‚éƒ½ä¼šè¿”å›åŒä¸€ä¸ªå®ä¾‹ã€‚</li>
<li><strong>åŸå‹ï¼ˆPrototypeï¼‰</strong>ï¼šæ¯æ¬¡è¯·æ±‚è¯¥ Bean æ—¶ï¼ŒSpring å®¹å™¨éƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„å®ä¾‹ã€‚</li>
<li><strong>è¯·æ±‚ï¼ˆRequestï¼‰</strong>ï¼šåœ¨ Web åº”ç”¨ä¸­ï¼Œæ¯ä¸ª HTTP è¯·æ±‚éƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„ Bean å®ä¾‹ã€‚</li>
<li><strong>ä¼šè¯ï¼ˆSessionï¼‰</strong>ï¼šåœ¨ Web åº”ç”¨ä¸­ï¼Œæ¯ä¸ª HTTP ä¼šè¯ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„ Bean å®ä¾‹ã€‚</li>
</ul>
<h2 id="Bean-çš„æ„ä¹‰å’Œä¼˜åŠ¿"><a href="#Bean-çš„æ„ä¹‰å’Œä¼˜åŠ¿" class="headerlink" title="Bean çš„æ„ä¹‰å’Œä¼˜åŠ¿"></a>Bean çš„æ„ä¹‰å’Œä¼˜åŠ¿</h2><ul>
<li><strong>è§£è€¦å’Œå¯ç»´æŠ¤æ€§</strong>ï¼šé€šè¿‡å°†å¯¹è±¡çš„åˆ›å»ºå’Œç®¡ç†äº¤ç»™ Spring å®¹å™¨ï¼Œé™ä½äº†ä»£ç ä¹‹é—´çš„è€¦åˆåº¦ï¼Œä½¿å¾—ä»£ç æ›´æ˜“äºç»´æŠ¤å’Œæ‰©å±•ã€‚</li>
<li><strong>ä¾èµ–æ³¨å…¥</strong>ï¼šæ–¹ä¾¿å®ç°ä¾èµ–æ³¨å…¥ï¼Œæé«˜äº†ä»£ç çš„å¯æµ‹è¯•æ€§å’Œçµæ´»æ€§ã€‚</li>
<li><strong>ç”Ÿå‘½å‘¨æœŸç®¡ç†</strong>ï¼šSpring å®¹å™¨å¯¹ Bean çš„ç”Ÿå‘½å‘¨æœŸè¿›è¡Œç®¡ç†ï¼Œç¡®ä¿ Bean åœ¨åˆé€‚çš„æ—¶æœºè¢«åˆ›å»ºã€åˆå§‹åŒ–å’Œé”€æ¯ã€‚ </li>
</ul>
<h1 id="spring-coreå’Œspringbootå’Œspring-jpaå’Œspring-restå’Œspring-security-çš„åŒºåˆ«"><a href="#spring-coreå’Œspringbootå’Œspring-jpaå’Œspring-restå’Œspring-security-çš„åŒºåˆ«" class="headerlink" title="spring coreå’Œspringbootå’Œspring jpaå’Œspring restå’Œspring security çš„åŒºåˆ«"></a>spring coreå’Œspringbootå’Œspring jpaå’Œspring restå’Œspring security çš„åŒºåˆ«</h1><p>Spring Coreã€Spring Bootã€Spring JPAã€Spring REST å’Œ Spring Security éƒ½æ˜¯ Spring ç”Ÿæ€ç³»ç»Ÿä¸­çš„é‡è¦ç»„æˆéƒ¨åˆ†ï¼Œå®ƒä»¬å„è‡ªæ‰¿æ‹…ç€ä¸åŒçš„èŒè´£ï¼Œä¸‹é¢ä¸ºä½ è¯¦ç»†ä»‹ç»å®ƒä»¬ä¹‹é—´çš„åŒºåˆ«ï¼š</p>
<h2 id="Spring-Core"><a href="#Spring-Core" class="headerlink" title="Spring Core"></a>Spring Core</h2><ul>
<li><strong>æ ¸å¿ƒåœ°ä½</strong>ï¼šSpring Core æ˜¯æ•´ä¸ª Spring æ¡†æ¶çš„åŸºç¡€ï¼Œæä¾›äº†æœ€æ ¸å¿ƒçš„åŠŸèƒ½ï¼Œæ˜¯å…¶ä»– Spring æ¨¡å—æ„å»ºçš„åŸºçŸ³ã€‚</li>
<li><strong>ä¸»è¦åŠŸèƒ½</strong><ul>
<li><strong>IoCï¼ˆæ§åˆ¶åè½¬ï¼‰å’Œ DIï¼ˆä¾èµ–æ³¨å…¥ï¼‰</strong>ï¼šé€šè¿‡ IoC å®¹å™¨ç®¡ç†å¯¹è±¡çš„åˆ›å»ºå’Œä¾èµ–å…³ç³»ï¼Œé™ä½ä»£ç ä¹‹é—´çš„è€¦åˆåº¦ã€‚ä¾‹å¦‚ï¼Œä½¿ç”¨ <code>ApplicationContext</code> æ¥è·å–å’Œç®¡ç† Bean å¯¹è±¡ã€‚</li>
<li><strong>AOPï¼ˆé¢å‘åˆ‡é¢ç¼–ç¨‹ï¼‰</strong>ï¼šå…è®¸å¼€å‘è€…åœ¨ä¸ä¿®æ”¹åŸæœ‰ä¸šåŠ¡é€»è¾‘çš„åŸºç¡€ä¸Šï¼Œå¯¹ç¨‹åºè¿›è¡Œå¢å¼ºï¼Œå¦‚æ—¥å¿—è®°å½•ã€äº‹åŠ¡ç®¡ç†ç­‰ã€‚</li>
<li><strong>èµ„æºç®¡ç†</strong>ï¼šæä¾›äº†ç»Ÿä¸€çš„èµ„æºåŠ è½½æœºåˆ¶ï¼Œæ–¹ä¾¿å¤„ç†æ–‡ä»¶ã€ç±»è·¯å¾„èµ„æºç­‰ã€‚</li>
</ul>
</li>
<li><strong>ä½¿ç”¨åœºæ™¯</strong>ï¼šæ˜¯æ‰€æœ‰ä½¿ç”¨ Spring æ¡†æ¶çš„é¡¹ç›®çš„åŸºç¡€ï¼Œæ— è®ºé¡¹ç›®è§„æ¨¡å¤§å°å’Œç±»å‹å¦‚ä½•ï¼Œéƒ½ç¦»ä¸å¼€ Spring Core æä¾›çš„æ ¸å¿ƒåŠŸèƒ½ã€‚</li>
</ul>
<h2 id="Spring-Boot"><a href="#Spring-Boot" class="headerlink" title="Spring Boot"></a>Spring Boot</h2><ul>
<li><strong>å¼€å‘ç†å¿µ</strong>ï¼šSpring Boot çš„è®¾è®¡ç›®æ ‡æ˜¯ç®€åŒ– Spring åº”ç”¨çš„å¼€å‘è¿‡ç¨‹ï¼Œé€šè¿‡è‡ªåŠ¨é…ç½®å’Œçº¦å®šå¤§äºé…ç½®çš„åŸåˆ™ï¼Œå‡å°‘å¼€å‘è€…çš„é…ç½®å·¥ä½œé‡ã€‚</li>
<li><strong>ä¸»è¦åŠŸèƒ½</strong><ul>
<li><strong>è‡ªåŠ¨é…ç½®</strong>ï¼šæ ¹æ®é¡¹ç›®ä¸­å¼•å…¥çš„ä¾èµ–ï¼Œè‡ªåŠ¨è¿›è¡Œç›¸å…³çš„é…ç½®ã€‚ä¾‹å¦‚ï¼Œå¼•å…¥ Spring Data JPA å’Œ MySQL é©±åŠ¨åï¼ŒSpring Boot ä¼šè‡ªåŠ¨é…ç½®æ•°æ®æºå’Œ JPA ç›¸å…³çš„ Beanã€‚</li>
<li><strong>åµŒå…¥å¼æœåŠ¡å™¨</strong>ï¼šå†…ç½®äº† Tomcatã€Jetty ç­‰åµŒå…¥å¼æœåŠ¡å™¨ï¼Œæ— éœ€æ‰‹åŠ¨éƒ¨ç½²åˆ°å¤–éƒ¨æœåŠ¡å™¨ï¼Œç›´æ¥è¿è¡Œåº”ç”¨ç¨‹åºå³å¯å¯åŠ¨ Web æœåŠ¡ã€‚</li>
<li><strong>Actuator</strong>ï¼šæä¾›äº†åº”ç”¨ç¨‹åºçš„ç›‘æ§å’Œç®¡ç†åŠŸèƒ½ï¼Œå¦‚å¥åº·æ£€æŸ¥ã€æŒ‡æ ‡ç»Ÿè®¡ç­‰ã€‚</li>
</ul>
</li>
<li><strong>ä½¿ç”¨åœºæ™¯</strong>ï¼šé€‚åˆå¿«é€Ÿæ­å»º Spring åº”ç”¨ï¼Œå°¤å…¶æ˜¯å¾®æœåŠ¡æ¶æ„ä¸‹çš„åº”ç”¨å¼€å‘ï¼Œèƒ½å¤Ÿå¤§å¤§æé«˜å¼€å‘æ•ˆç‡ã€‚</li>
</ul>
<h2 id="Spring-JPA"><a href="#Spring-JPA" class="headerlink" title="Spring JPA"></a>Spring JPA</h2><ul>
<li><strong>åŠŸèƒ½å®šä½</strong>ï¼šSpring JPAï¼ˆJava Persistence APIï¼‰æ˜¯ Spring å¯¹ JPA è§„èŒƒçš„é›†æˆå’Œæ‰©å±•ï¼Œç”¨äºç®€åŒ–æ•°æ®åº“è®¿é—®å±‚çš„å¼€å‘ã€‚</li>
<li><strong>ä¸»è¦åŠŸèƒ½</strong><ul>
<li><strong>å¯¹è±¡å…³ç³»æ˜ å°„ï¼ˆORMï¼‰</strong>ï¼šé€šè¿‡æ³¨è§£æˆ– XML é…ç½®ï¼Œå°† Java å¯¹è±¡æ˜ å°„åˆ°æ•°æ®åº“è¡¨ï¼Œå®ç°å¯¹è±¡å’Œæ•°æ®åº“è®°å½•ä¹‹é—´çš„è½¬æ¢ã€‚</li>
<li><strong>Repository æ¥å£</strong>ï¼šæä¾›äº†ä¸€ç³»åˆ—çš„ Repository æ¥å£ï¼Œå¦‚ <code>CrudRepository</code>ã€<code>JpaRepository</code> ç­‰ï¼Œå¼€å‘è€…å¯ä»¥é€šè¿‡å®šä¹‰æ¥å£æ–¹æ³•æ¥å®ç°å¸¸è§çš„æ•°æ®åº“æ“ä½œï¼Œæ— éœ€ç¼–å†™å…·ä½“çš„ SQL è¯­å¥ã€‚</li>
<li><strong>äº‹åŠ¡ç®¡ç†</strong>ï¼šæ”¯æŒå£°æ˜å¼äº‹åŠ¡ç®¡ç†ï¼Œé€šè¿‡æ³¨è§£ï¼ˆå¦‚ <code>@Transactional</code>ï¼‰å¯ä»¥æ–¹ä¾¿åœ°ç®¡ç†æ•°æ®åº“äº‹åŠ¡ã€‚</li>
</ul>
</li>
<li><strong>ä½¿ç”¨åœºæ™¯</strong>ï¼šé€‚ç”¨äºéœ€è¦ä¸å…³ç³»å‹æ•°æ®åº“è¿›è¡Œäº¤äº’çš„é¡¹ç›®ï¼Œèƒ½å¤Ÿå‡å°‘æ•°æ®åº“è®¿é—®å±‚çš„ä»£ç é‡ï¼Œæé«˜å¼€å‘æ•ˆç‡ã€‚</li>
</ul>
<h2 id="Spring-REST"><a href="#Spring-REST" class="headerlink" title="Spring REST"></a>Spring REST</h2><ul>
<li><strong>åŠŸèƒ½ç”¨é€”</strong>ï¼šSpring REST ä¸»è¦ç”¨äºæ„å»º RESTful é£æ ¼çš„ Web æœåŠ¡ï¼Œéµå¾ª RESTï¼ˆRepresentational State Transferï¼‰æ¶æ„é£æ ¼ã€‚</li>
<li><strong>ä¸»è¦åŠŸèƒ½</strong><ul>
<li><strong>æ§åˆ¶å™¨æ³¨è§£</strong>ï¼šä½¿ç”¨ <code>@RestController</code> å’Œ <code>@RequestMapping</code> ç­‰æ³¨è§£æ¥å®šä¹‰ RESTful æ¥å£ï¼Œå¤„ç† HTTP è¯·æ±‚å’Œå“åº”ã€‚</li>
<li><strong>æ•°æ®ç»‘å®šå’Œåºåˆ—åŒ–</strong>ï¼šè‡ªåŠ¨å°†è¯·æ±‚å‚æ•°ç»‘å®šåˆ° Java å¯¹è±¡ï¼Œå¹¶å°† Java å¯¹è±¡åºåˆ—åŒ–ä¸º JSON æˆ– XML æ ¼å¼çš„å“åº”æ•°æ®ã€‚</li>
<li><strong>HATEOASï¼ˆHypermedia as the Engine of Application Stateï¼‰</strong>ï¼šæ”¯æŒ HATEOAS åŸåˆ™ï¼Œåœ¨å“åº”æ•°æ®ä¸­åŒ…å«é“¾æ¥ä¿¡æ¯ï¼Œæé«˜ API çš„å¯å‘ç°æ€§å’Œå¯å¯¼èˆªæ€§ã€‚</li>
</ul>
</li>
<li><strong>ä½¿ç”¨åœºæ™¯</strong>ï¼šé€‚åˆæ„å»ºå‰åç«¯åˆ†ç¦»çš„ Web åº”ç”¨ï¼Œä¸ºå‰ç«¯æä¾›æ•°æ®æ¥å£ï¼Œä¹Ÿå¯ç”¨äºæ„å»ºå¾®æœåŠ¡æ¶æ„ä¸­çš„æœåŠ¡ä¹‹é—´çš„é€šä¿¡æ¥å£ã€‚</li>
</ul>
<h2 id="Spring-Security"><a href="#Spring-Security" class="headerlink" title="Spring Security"></a>Spring Security</h2><ul>
<li><strong>æ ¸å¿ƒåŠŸèƒ½</strong>ï¼šSpring Security æ˜¯ä¸€ä¸ªå¼ºå¤§çš„èº«ä»½éªŒè¯å’Œæˆæƒæ¡†æ¶ï¼Œç”¨äºä¿æŠ¤ Spring åº”ç”¨ç¨‹åºçš„å®‰å…¨æ€§ã€‚</li>
<li><strong>ä¸»è¦åŠŸèƒ½</strong><ul>
<li><strong>èº«ä»½éªŒè¯</strong>ï¼šæ”¯æŒå¤šç§èº«ä»½éªŒè¯æ–¹å¼ï¼Œå¦‚è¡¨å•ç™»å½•ã€HTTP åŸºæœ¬è®¤è¯ã€OAuth2 ç­‰ï¼ŒéªŒè¯ç”¨æˆ·çš„èº«ä»½ä¿¡æ¯ã€‚</li>
<li><strong>æˆæƒç®¡ç†</strong>ï¼šå¯ä»¥åŸºäºè§’è‰²ã€æƒé™ç­‰å¯¹ç”¨æˆ·è¿›è¡Œæˆæƒï¼Œæ§åˆ¶ç”¨æˆ·å¯¹èµ„æºçš„è®¿é—®æƒé™ã€‚</li>
<li><strong>é˜²æ­¢æ”»å‡»</strong>ï¼šæä¾›äº†é˜²æ­¢å¸¸è§ Web æ”»å‡»çš„åŠŸèƒ½ï¼Œå¦‚ CSRFï¼ˆè·¨ç«™è¯·æ±‚ä¼ªé€ ï¼‰ã€XSSï¼ˆè·¨ç«™è„šæœ¬æ”»å‡»ï¼‰ç­‰ã€‚</li>
</ul>
</li>
<li><strong>ä½¿ç”¨åœºæ™¯</strong>ï¼šä»»ä½•éœ€è¦ä¿æŠ¤ç”¨æˆ·æ•°æ®å’Œèµ„æºå®‰å…¨çš„ Spring åº”ç”¨éƒ½å¯ä»¥ä½¿ç”¨ Spring Securityï¼Œå°¤å…¶æ˜¯æ¶‰åŠç”¨æˆ·ç™»å½•ã€æ•æ„Ÿæ•°æ®è®¿é—®ç­‰åœºæ™¯ã€‚</li>
</ul>
<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>Spring Core æ˜¯ Spring æ¡†æ¶çš„æ ¸å¿ƒåŸºç¡€ï¼ŒSpring Boot ç®€åŒ–äº† Spring åº”ç”¨çš„å¼€å‘è¿‡ç¨‹ï¼ŒSpring JPA ç”¨äºç®€åŒ–æ•°æ®åº“è®¿é—®ï¼ŒSpring REST ç”¨äºæ„å»º RESTful æœåŠ¡ï¼ŒSpring Security ç”¨äºä¿éšœåº”ç”¨ç¨‹åºçš„å®‰å…¨æ€§ã€‚åœ¨å®é™…é¡¹ç›®ä¸­ï¼Œé€šå¸¸ä¼šæ ¹æ®é¡¹ç›®çš„éœ€æ±‚ç»¼åˆä½¿ç”¨è¿™äº›æ¨¡å—ã€‚ </p>
<h1 id="the-relationship-between-Servlet-and-TomCat"><a href="#the-relationship-between-Servlet-and-TomCat" class="headerlink" title="the relationship between Servlet and TomCat"></a>the relationship between Servlet and TomCat</h1><p>Servlet is a specification and technology in Java for developing web applications, while Tomcat is an open - source Servlet container. The relationship between them is as follows:</p>
<h2 id="Specification-and-implementation-relationship"><a href="#Specification-and-implementation-relationship" class="headerlink" title="Specification and implementation relationship"></a>Specification and implementation relationship</h2><ul>
<li><strong>Servlet specification</strong>: Servlet is a set of standard specifications developed by Sun Microsystems (now Oracle). It defines how Servlet classes should be written and how to interact with client requests and servers. In simple terms, the Servlet specification is an abstract design that stipulates the interfaces and methods for handling requests and responses in web application development. For example, the Servlet specification defines the <code>javax.servlet.Servlet</code> interface, and the Servlet classes written by developers need to implement this interface or inherit abstract classes such as <code>HttpServlet</code>.</li>
<li><strong>Tomcat implementation</strong>: Tomcat is a specific implementation of the Servlet specification. It implements various interfaces and methods defined in the Servlet specification, enabling the code written by developers that conforms to the Servlet specification to run on the Tomcat server. Tomcat provides a running environment for Servlets, allowing them to handle client requests and return responses.</li>
</ul>
<h2 id="Running-carrier-relationship"><a href="#Running-carrier-relationship" class="headerlink" title="Running carrier relationship"></a>Running carrier relationship</h2><ul>
<li><strong>Servletâ€™s running dependency</strong>: A Servlet itself is just a piece of Java code and cannot run independently. It requires a running environment, namely a Servlet container. The Servlet code needs to be deployed in a Servlet container, which is responsible for loading, instantiating, and managing the lifecycle of the Servlet.</li>
<li><strong>Tomcat as the carrier</strong>: Tomcat is such a Servlet container that can provide a running environment for Servlets. After developers write a Servlet class, they package it into a WAR (Web Application Archive) file and deploy it to Tomcat. Tomcat will be responsible for loading these Servlet classes, creating Servlet instances, and calling their methods to handle client requests. For example, when a client sends an HTTP request to the Tomcat server, Tomcat will find the corresponding Servlet according to the URL of the request and call the <code>service()</code> method of the Servlet for processing.</li>
</ul>
<h2 id="Interaction-and-collaboration-relationship"><a href="#Interaction-and-collaboration-relationship" class="headerlink" title="Interaction and collaboration relationship"></a>Interaction and collaboration relationship</h2><ul>
<li><strong>Request processing flow</strong>: A client (such as a browser) sends an HTTP request to the Tomcat server. After receiving the request, Tomcat finds the corresponding Servlet according to information such as the URL of the request. Then, Tomcat creates <code>ServletRequest</code> and <code>ServletResponse</code> objects to encapsulate the clientâ€™s request information and response information respectively, and passes these two objects to the corresponding methods (such as <code>doGet()</code> or <code>doPost()</code>) of the Servlet. The Servlet processes the business logic according to the request information, generates the response content, and writes it into the <code>ServletResponse</code> object. Finally, Tomcat retrieves the response content from the <code>ServletResponse</code> object and returns it to the client.</li>
<li><strong>Lifecycle management</strong>: Tomcat is responsible for managing the lifecycle of Servlets. After a Servlet is deployed to Tomcat, Tomcat will instantiate and initialize the Servlet (call the <code>init()</code> method) at an appropriate time. When a request arrives, it calls the service method of the Servlet to handle the request. When Tomcat is shut down or the Servlet is unloaded, Tomcat will call the <code>destroy()</code> method of the Servlet to release resources.</li>
</ul>
<h2 id="Development-and-deployment-relationship"><a href="#Development-and-deployment-relationship" class="headerlink" title="Development and deployment relationship"></a>Development and deployment relationship</h2><ul>
<li><strong>Development aspect</strong>: When developers develop Servlets, they only need to write Java code following the Servlet specification to implement the corresponding business logic, without having to worry about how the Servlet runs on the server. They can use various Java development tools (such as Eclipse, IntelliJ IDEA, etc.) to write and debug Servlet code.</li>
<li><strong>Deployment aspect</strong>: After development, the Servlet code is packaged into a WAR file and then deployed to the Tomcat server. Tomcat will automatically decompress the WAR file, load the Servlet classes in it into memory, and make them capable of handling client requests. This separated development and deployment method allows developers to focus on the implementation of business logic, while server administrators are responsible for server configuration and management. </li>
</ul>
<h1 id="J2EE-vs-Spring"><a href="#J2EE-vs-Spring" class="headerlink" title="J2EE vs Spring"></a>J2EE vs Spring</h1><blockquote>
<p>ç°åœ¨å·²ç»åŸºæœ¬æ²¡äººç”¨J2EEäº†, éƒ½æ˜¯ç”¨spring.</p>
</blockquote>
<p>å¦‚ä¸Šæ‰€è¿°ï¼ŒJ2EEæ˜¯ä¸€å¥—æ ‡å‡†ï¼Œå®ƒå¯¹ä¸€ç³»åˆ—æ¥å£è¿›è¡Œäº†çº¦å®šï¼Œç„¶åç”±ä¼—å¤šå‚å•†å›´ç»•è¿™ä¸ªæ ‡å‡†åšå®ç°ã€‚Springæ¡†æ¶å°±æ˜¯ä¸€ä¸ªå¼€æºçš„J2EEåº”ç”¨ç¨‹åºæ¡†æ¶ã€‚ï¼ˆæäº†åŠå¤©ï¼ŒåŸæ¥Springä¹Ÿç®—æ˜¯J2EEä¸€åˆ†å­ï¼‰<br>æ—©æœŸçš„Springå®šä½äºè§£å†³J2EEåœ¨å®é™…ä½¿ç”¨ä¸Šçš„ä¸€ç³»åˆ—é—®é¢˜ï¼Œå› ä¸ºJ2EEçš„APIå®åœ¨æ˜¯å¤ªéš¾ç”¨äº†ã€‚Springæ¡†æ¶çš„å‘èµ·äººRodä¼°è®¡æ˜¯è¶Ÿäº†ä¸å°‘å¤§å‘ï¼Œäºæ˜¯æ€»ç»“äº†ä¸€å¥—æœ€ä½³å®è·µï¼Œå¹¶æ€»ç»“åˆ°äº†ä¸€å¥—æ¡†æ¶é‡Œã€‚å…¶ä¸­æœ€é‡è¦çš„ï¼Œå°±æ˜¯æ‰€è°“IoCï¼ˆæ§åˆ¶åè½¬ï¼‰ã€‚<br>Springå¤§é‡ä½¿ç”¨æˆ–è€…å®ç°äº†J2EEæ ‡å‡†ã€‚æ¯”å¦‚spring-mvcæ˜¯åœ¨servletåŸºç¡€ä¹‹ä¸Šçš„å°è£…ï¼›springæœ¬èº«å¹¶ä¸æä¾›å®¹å™¨ï¼Œè€Œæ˜¯æ”¯æŒä½¿ç”¨ä»»ä½•æ”¯æŒservletæ ‡å‡†çš„å®¹å™¨ï¼ˆå¦‚tomcatï¼Œjettyç­‰ï¼‰ï¼›spring-dataä¹Ÿå®ç°äº†JPAï¼Œé€šè¿‡æ ‡å‡†æ¥å£å¯¹è¿›è¡ŒCRUDç­‰ã€‚å½’æ ¹åˆ°åº•Springåªæ˜¯æƒ³æ›´å¥½çš„è§£å†³å®é™…é—®é¢˜ã€‚J2EEçš„å®ç°åšå¾—å¥½çš„å°±ç”¨ï¼Œåšå¾—ä¸å¥½çš„ï¼Œç”¨æ¯”è¾ƒæ°å½“çš„æ–¹å¼ç‹¬ç«‹å®ç°æˆ–è€…å°è£…ã€‚<br>éšç€æ—¶é—´çš„å‘å±•ï¼ŒJ2EEå·²ç»è¶Šæ¥è¶Šè½åï¼Œè¿™æ˜¯ç”±äºå®ƒçš„ä½“åˆ¶é€ æˆçš„ã€‚J2EEçš„åˆ¶å®šæ˜¯ç”±å‡ å¤§å·¨å¤´å®šæœŸå¼€ä¼šåå•†é€šè¿‡ï¼Œå‘å¸ƒã€‚ç„¶åç”±å¤§å®¹å™¨å®ç°å‚å•†è·Ÿè¿›ã€‚ä½†è¿™æ ·å¤ªæ…¢äº†ã€‚äº’è”ç½‘çš„å‘å±•é€Ÿåº¦å·²ç»è¿œä¸æ˜¯è¿™æ ·ä¸€ä¸ªåƒµåŒ–çš„ä½“åˆ¶èƒ½å¤Ÿé€‚åº”çš„ã€‚åè§‚Springç›¸å¯¹å°±å¿«é€Ÿçš„å¤šã€‚Springè‡ªå·±å°±æ˜¯ä¸€å®¶å…¬å¸ï¼Œè§‰å¾—æ•´ä¸ªç¤¾åŒºä»€ä¹ˆä¸œè¥¿æœ€å‰æ²¿ï¼Œæœ€æ€¥ç¼ºå°±ç«‹åˆ»å“åº”å»åšäº†ã€‚æ¯”å¦‚ï¼ŒRestfulåˆšæµè¡Œï¼Œä½ æ˜¯æ„¿æ„ç­‰ä¸€å¹´åŠè½½å‡ºJAX-RSæ ‡å‡†ï¼Œç„¶åå†å‡ºJerseyï¼Œæ‰èƒ½ç”¨ï¼›è¿˜æ˜¯é€‰æ‹©ç›´æ¥ç”¨Spring MVCç›´æ¥å°±æŠŠäº‹åŠäº†ï¼Ÿç»“æœä¸è¨€è€Œå–»ã€‚å¯¹è§£å†³é—®é¢˜çš„æ€åº¦æ˜¯äºŒè€…ç›®å‰å¢ƒé‡ä¸åŒçš„ä¸»è¦åŸå› ã€‚æœ€æ—©æœŸJ2EEæ˜¯é¢†å¯¼è€…ï¼Œæ‰€æœ‰çš„æŠ€æœ¯å‚å•†è¦æƒ³åœ¨è¿™ä¸ªåœˆå­é‡Œæ··ï¼Œå¿…é¡»è·Ÿç€æ ‡å‡†èµ°ã€‚è€ŒSpringé€æ¸å æ®é¢†å¯¼åœ°ä½ä¹‹åï¼ŒJ2EEçš„ä¸€äº›æ ‡å‡†åè€Œè¦è·Ÿç€Springèµ°ã€‚</p>
<p>ä½œè€…ï¼šleftfist<br>é“¾æ¥ï¼š<a href="https://juejin.cn/post/6945982696183054349" target="_blank" rel="noopener">https://juejin.cn/post/6945982696183054349</a><br>æ¥æºï¼šç¨€åœŸæ˜é‡‘<br>è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚</p>
<h1 id="Spring-JPAå’ŒMyBatisåŒºåˆ«"><a href="#Spring-JPAå’ŒMyBatisåŒºåˆ«" class="headerlink" title="Spring JPAå’ŒMyBatisåŒºåˆ«"></a>Spring JPAå’ŒMyBatisåŒºåˆ«</h1><blockquote>
<p>ç°å®é‡Œï¼Œä¸­å›½å¤§é™†mybatisç”¨çš„ç¡®å®å¤šä¸€äº›, åŒ—ç¾ä¸æ™“å¾—</p>
</blockquote>
<p>ä»–ä»¬éƒ½æ˜¯åœ¨Javaå¼€å‘ä¸­ç”¨äºå¤„ç†æ•°æ®åº“äº¤äº’çš„æŠ€æœ¯ï¼Œå®ƒä»¬æœ‰å„è‡ªçš„ç‰¹ç‚¹ï¼Œä»¥ä¸‹ä»å¤šä¸ªæ–¹é¢ä»‹ç»å®ƒä»¬çš„åŒºåˆ«ï¼š</p>
<h2 id="1-è®¾è®¡ç†å¿µ"><a href="#1-è®¾è®¡ç†å¿µ" class="headerlink" title="1. è®¾è®¡ç†å¿µ"></a>1. è®¾è®¡ç†å¿µ</h2><ul>
<li><strong>Spring JPA</strong><ul>
<li>Spring JPA æ˜¯ Spring å¯¹ JPAï¼ˆJava Persistence APIï¼‰è§„èŒƒçš„é›†æˆå’Œæ‰©å±•ï¼Œå®ƒåŸºäº ORMï¼ˆå¯¹è±¡å…³ç³»æ˜ å°„ï¼‰æ€æƒ³ï¼Œæ—¨åœ¨å°† Java å¯¹è±¡ä¸æ•°æ®åº“è¡¨è¿›è¡Œæ˜ å°„ï¼Œè®©å¼€å‘è€…å¯ä»¥é€šè¿‡æ“ä½œ Java å¯¹è±¡æ¥é—´æ¥æ“ä½œæ•°æ®åº“ï¼Œæ— éœ€ç¼–å†™å¤§é‡çš„ SQL è¯­å¥ï¼Œæ³¨é‡å¯¹è±¡åŒ–çš„æ“ä½œï¼Œæé«˜å¼€å‘æ•ˆç‡ã€‚</li>
</ul>
</li>
<li><strong>MyBatis</strong><ul>
<li>MyBatis æ˜¯ä¸€æ¬¾åŠè‡ªåŠ¨åŒ–çš„æŒä¹…å±‚æ¡†æ¶ï¼Œå®ƒåŒæ ·æ”¯æŒ ORMï¼Œä½†æ›´ä¾§é‡äº SQL çš„çµæ´»ä½¿ç”¨ã€‚MyBatis ä¸ä¼šåƒ JPA é‚£æ ·å®Œå…¨éšè— SQLï¼Œè€Œæ˜¯å…è®¸å¼€å‘è€…è‡ªå·±ç¼–å†™ SQL è¯­å¥ï¼Œå¯¹ SQL æœ‰æ›´ç»†ç²’åº¦çš„æ§åˆ¶ï¼Œåœ¨æ€§èƒ½ä¼˜åŒ–å’Œå¤„ç†å¤æ‚ä¸šåŠ¡é€»è¾‘æ—¶å…·æœ‰ä¼˜åŠ¿ã€‚</li>
</ul>
</li>
</ul>
<h2 id="2-SQL-æ§åˆ¶ç¨‹åº¦"><a href="#2-SQL-æ§åˆ¶ç¨‹åº¦" class="headerlink" title="2. SQL æ§åˆ¶ç¨‹åº¦"></a>2. SQL æ§åˆ¶ç¨‹åº¦</h2><ul>
<li><p><strong>Spring JPA</strong></p>
<ul>
<li><p>å¯¹äºç®€å•çš„å¢åˆ æ”¹æŸ¥æ“ä½œï¼ŒSpring JPA å¯ä»¥æ ¹æ®æ–¹æ³•åè‡ªåŠ¨ç”Ÿæˆ SQL è¯­å¥ï¼Œæ— éœ€å¼€å‘è€…æ‰‹åŠ¨ç¼–å†™ã€‚ä¾‹å¦‚ï¼Œå®šä¹‰ä¸€ä¸ªç»§æ‰¿è‡ª <code>JpaRepository</code> çš„æ¥å£ï¼Œé€šè¿‡å‘½åè§„èŒƒå®šä¹‰æ–¹æ³•ï¼Œå°±å¯ä»¥å®ç°åŸºæœ¬çš„æ•°æ®åº“æ“ä½œã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> org.springframework.data.jpa.repository.JpaRepository;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">UserRepository</span> <span class="keyword">extends</span> <span class="title">JpaRepository</span>&lt;<span class="title">User</span>, <span class="title">Long</span>&gt; </span>&#123;</span><br><span class="line">    <span class="function">User <span class="title">findByUsername</span><span class="params">(String username)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä½†å¯¹äºå¤æ‚çš„ SQL æŸ¥è¯¢ï¼Œè™½ç„¶ä¹Ÿå¯ä»¥ä½¿ç”¨ <code>@Query</code> æ³¨è§£æ‰‹åŠ¨ç¼–å†™ SQLï¼Œä½†ç›¸æ¯”ä¹‹ä¸‹ä¸å¤Ÿçµæ´»ï¼Œç‰¹åˆ«æ˜¯åœ¨å¤„ç†å¤æ‚çš„å¤šè¡¨å…³è”æŸ¥è¯¢æ—¶ï¼Œå¯èƒ½ä¼šæ¯”è¾ƒç¹çã€‚</p>
</li>
</ul>
</li>
<li><strong>MyBatis</strong><ul>
<li>MyBatis å…è®¸å¼€å‘è€…ç›´æ¥ç¼–å†™ SQL è¯­å¥ï¼Œå¯ä»¥å°† SQL è¯­å¥å†™åœ¨ XML æ–‡ä»¶æˆ–ä½¿ç”¨æ³¨è§£æ–¹å¼é…ç½®åœ¨ Java ä»£ç ä¸­ã€‚è¿™ä½¿å¾—å¼€å‘è€…å¯ä»¥æ ¹æ®å…·ä½“çš„ä¸šåŠ¡éœ€æ±‚å’Œæ•°æ®åº“ç‰¹æ€§ï¼Œç¼–å†™é«˜æ•ˆã€å¤æ‚çš„ SQL è¯­å¥ï¼Œå¯¹ SQL çš„æ§åˆ¶éå¸¸çµæ´»ã€‚<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">"findUserByUsername"</span> <span class="attr">parameterType</span>=<span class="string">"String"</span> <span class="attr">resultType</span>=<span class="string">"User"</span>&gt;</span></span><br><span class="line">    SELECT * FROM users WHERE username = #&#123;username&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<h2 id="3-å­¦ä¹ æˆæœ¬"><a href="#3-å­¦ä¹ æˆæœ¬" class="headerlink" title="3. å­¦ä¹ æˆæœ¬"></a>3. å­¦ä¹ æˆæœ¬</h2><ul>
<li><strong>Spring JPA</strong><ul>
<li>å¯¹äºç†Ÿæ‚‰é¢å‘å¯¹è±¡ç¼–ç¨‹å’Œ JPA è§„èŒƒçš„å¼€å‘è€…æ¥è¯´ï¼ŒSpring JPA çš„å­¦ä¹ æˆæœ¬ç›¸å¯¹è¾ƒä½ã€‚å› ä¸ºå®ƒæä¾›äº†ç®€å•çš„ API å’Œè‡ªåŠ¨ç”Ÿæˆ SQL çš„åŠŸèƒ½ï¼Œå¼€å‘è€…åªéœ€è¦å®šä¹‰æ¥å£å’Œæ–¹æ³•ï¼Œå°±å¯ä»¥å®ŒæˆåŸºæœ¬çš„æ•°æ®åº“æ“ä½œã€‚</li>
<li>ç„¶è€Œï¼Œè¦æ·±å…¥æŒæ¡ Spring JPA çš„é«˜çº§ç‰¹æ€§ï¼Œå¦‚è‡ªå®šä¹‰æŸ¥è¯¢ã€æ€§èƒ½ä¼˜åŒ–ç­‰ï¼Œä»ç„¶éœ€è¦èŠ±è´¹ä¸€å®šçš„æ—¶é—´å’Œç²¾åŠ›ã€‚</li>
</ul>
</li>
<li><strong>MyBatis</strong><ul>
<li>MyBatis çš„å­¦ä¹ æ›²çº¿ç›¸å¯¹è¾ƒé™¡ï¼Œå°¤å…¶æ˜¯å¯¹äºæ²¡æœ‰ SQL åŸºç¡€çš„å¼€å‘è€…æ¥è¯´ã€‚å› ä¸ºéœ€è¦æ‰‹åŠ¨ç¼–å†™ SQL è¯­å¥ï¼Œæ‰€ä»¥éœ€è¦æŒæ¡ä¸€å®šçš„ SQL çŸ¥è¯†å’Œæ•°æ®åº“æ“ä½œæŠ€èƒ½ã€‚</li>
<li>åŒæ—¶ï¼Œè¿˜éœ€è¦äº†è§£ MyBatis çš„é…ç½®æ–‡ä»¶ã€æ˜ å°„è§„åˆ™ç­‰ï¼Œå­¦ä¹ æˆæœ¬ç›¸å¯¹è¾ƒé«˜ã€‚</li>
</ul>
</li>
</ul>
<h2 id="4-æ€§èƒ½è¡¨ç°"><a href="#4-æ€§èƒ½è¡¨ç°" class="headerlink" title="4. æ€§èƒ½è¡¨ç°"></a>4. æ€§èƒ½è¡¨ç°</h2><ul>
<li><strong>Spring JPA</strong><ul>
<li>åœ¨å¤„ç†ç®€å•çš„æ•°æ®åº“æ“ä½œæ—¶ï¼ŒSpring JPA ç”±äºè‡ªåŠ¨ç”Ÿæˆ SQLï¼Œæ€§èƒ½è¡¨ç°è‰¯å¥½ã€‚ä½†åœ¨å¤„ç†å¤æ‚çš„æŸ¥è¯¢æ—¶ï¼Œè‡ªåŠ¨ç”Ÿæˆçš„ SQL å¯èƒ½ä¸æ˜¯æœ€ä¼˜çš„ï¼Œéœ€è¦å¼€å‘è€…è¿›è¡Œæ‰‹åŠ¨ä¼˜åŒ–ã€‚</li>
<li>å¦å¤–ï¼ŒJPA çš„ç¼“å­˜æœºåˆ¶åœ¨ä¸€å®šç¨‹åº¦ä¸Šå¯ä»¥æé«˜æ€§èƒ½ï¼Œä½†å¦‚æœä½¿ç”¨ä¸å½“ï¼Œä¹Ÿå¯èƒ½ä¼šå¯¼è‡´æ€§èƒ½é—®é¢˜ã€‚</li>
</ul>
</li>
<li><strong>MyBatis</strong><ul>
<li>ç”±äºå¼€å‘è€…å¯ä»¥æ‰‹åŠ¨ç¼–å†™ SQLï¼Œèƒ½å¤Ÿé’ˆå¯¹å…·ä½“çš„ä¸šåŠ¡åœºæ™¯å’Œæ•°æ®åº“è¿›è¡Œä¼˜åŒ–ï¼Œæ‰€ä»¥åœ¨å¤„ç†å¤æ‚æŸ¥è¯¢å’Œå¤§æ•°æ®é‡æ“ä½œæ—¶ï¼ŒMyBatis çš„æ€§èƒ½é€šå¸¸æ›´æœ‰ä¼˜åŠ¿ã€‚</li>
<li>åŒæ—¶ï¼ŒMyBatis çš„ç¼“å­˜æœºåˆ¶ä¹Ÿæ¯”è¾ƒçµæ´»ï¼Œå¼€å‘è€…å¯ä»¥æ ¹æ®éœ€è¦è¿›è¡Œé…ç½®ã€‚</li>
</ul>
</li>
</ul>
<h2 id="5-é€‚ç”¨åœºæ™¯"><a href="#5-é€‚ç”¨åœºæ™¯" class="headerlink" title="5. é€‚ç”¨åœºæ™¯"></a>5. é€‚ç”¨åœºæ™¯</h2><ul>
<li><strong>Spring JPA</strong><ul>
<li>é€‚ç”¨äºå¿«é€Ÿå¼€å‘é¡¹ç›®ï¼Œå°¤å…¶æ˜¯å¯¹æ•°æ®åº“æ“ä½œè¦æ±‚ä¸å¤æ‚ï¼Œæ³¨é‡å¼€å‘æ•ˆç‡å’Œä»£ç ç®€æ´æ€§çš„é¡¹ç›®ã€‚ä¾‹å¦‚ï¼Œä¸€äº›å°å‹çš„ Web åº”ç”¨ã€åŸå‹é¡¹ç›®ç­‰ã€‚</li>
<li>å¯¹äºå›¢é˜Ÿä¸­ SQL èƒ½åŠ›ç›¸å¯¹è¾ƒå¼±çš„å¼€å‘è€…ï¼ŒSpring JPA å¯ä»¥é™ä½å¼€å‘éš¾åº¦ã€‚</li>
</ul>
</li>
<li><strong>MyBatis</strong><ul>
<li>é€‚ç”¨äºå¯¹ SQL æ€§èƒ½è¦æ±‚è¾ƒé«˜ã€ä¸šåŠ¡é€»è¾‘å¤æ‚çš„é¡¹ç›®ã€‚ä¾‹å¦‚ï¼Œä¼ä¸šçº§åº”ç”¨ã€æ•°æ®å¤„ç†ç³»ç»Ÿç­‰ï¼Œéœ€è¦å¯¹ SQL è¿›è¡Œç²¾ç»†ä¼˜åŒ–å’Œå¤æ‚çš„å¤šè¡¨å…³è”æŸ¥è¯¢ã€‚</li>
<li>å½“é¡¹ç›®éœ€è¦ä¸ä¸åŒçš„æ•°æ®åº“è¿›è¡Œäº¤äº’ï¼Œå¹¶ä¸”éœ€è¦æ ¹æ®ä¸åŒæ•°æ®åº“çš„ç‰¹æ€§ç¼–å†™ä¸åŒçš„ SQL æ—¶ï¼ŒMyBatis æ›´å…·ä¼˜åŠ¿ã€‚ </li>
</ul>
</li>
</ul>
<h1 id="æš´åŠ›åå°„æ˜¯å•¥"><a href="#æš´åŠ›åå°„æ˜¯å•¥" class="headerlink" title="æš´åŠ›åå°„æ˜¯å•¥"></a>æš´åŠ›åå°„æ˜¯å•¥</h1><p>æš´åŠ›åå°„æŒ‡çš„æ˜¯åˆ©ç”¨ Java çš„åå°„æœºåˆ¶ï¼Œçªç ´ Java è¯­è¨€åŸæœ¬çš„è®¿é—®æ§åˆ¶é™åˆ¶ï¼ˆå¦‚ç§æœ‰è®¿é—®ä¿®é¥°ç¬¦ privateï¼‰ï¼Œå¼ºè¡Œè®¿é—®ã€ä¿®æ”¹å¯¹è±¡çš„ç§æœ‰å±æ€§æˆ–è°ƒç”¨ç§æœ‰æ–¹æ³•ã€‚ä¸‹é¢ä¸ºä½ è¯¦ç»†ä»‹ç»æš´åŠ›åå°„çš„åŸç†ã€ä½¿ç”¨åœºæ™¯ã€ç¤ºä¾‹ä»£ç åŠæ³¨æ„äº‹é¡¹ã€‚</p>
<h1 id="Beanå’Œ-ComponentåŒºåˆ«"><a href="#Beanå’Œ-ComponentåŒºåˆ«" class="headerlink" title="@Beanå’Œ@ComponentåŒºåˆ«"></a>@Beanå’Œ@ComponentåŒºåˆ«</h1><p>åœ¨ Spring æ¡†æ¶é‡Œï¼Œ<code>@Bean</code> å’Œ <code>@Component</code> éƒ½å’Œ Bean çš„å®šä¹‰ç›¸å…³ï¼Œä½†å®ƒä»¬åœ¨ä½¿ç”¨åœºæ™¯ã€ä½¿ç”¨æ–¹å¼ç­‰æ–¹é¢å­˜åœ¨æ˜æ˜¾å·®å¼‚ï¼Œä¸‹é¢ä¸ºä½ è¯¦ç»†ä»‹ç»ï¼š</p>
<h2 id="ä½œç”¨å±‚é¢"><a href="#ä½œç”¨å±‚é¢" class="headerlink" title="ä½œç”¨å±‚é¢"></a>ä½œç”¨å±‚é¢</h2><ul>
<li><strong><code>@Component</code></strong><ul>
<li>è¿™æ˜¯ä¸€ä¸ªé€šç”¨çš„ç»„ä»¶æ³¨è§£ï¼Œå±äºç±»çº§åˆ«çš„æ³¨è§£ã€‚å½“ä½ åœ¨ä¸€ä¸ªç±»ä¸Šä½¿ç”¨ <code>@Component</code> æ³¨è§£æ—¶ï¼Œå°±è¡¨æ˜è¿™ä¸ªç±»æ˜¯ Spring ç®¡ç†çš„ä¸€ä¸ªç»„ä»¶ã€‚Spring ä¼šåœ¨å¯åŠ¨æ—¶è‡ªåŠ¨æ‰«æå¸¦æœ‰ <code>@Component</code> æ³¨è§£çš„ç±»ï¼Œå¹¶å°†å…¶æ³¨å†Œä¸º Beanã€‚</li>
<li>é™¤äº† <code>@Component</code> å¤–ï¼ŒSpring è¿˜æä¾›äº†å‡ ä¸ªè¯­ä¹‰æ›´æ˜ç¡®çš„è¡ç”Ÿæ³¨è§£ï¼Œå¦‚ <code>@Service</code>ï¼ˆç”¨äºæœåŠ¡å±‚ç»„ä»¶ï¼‰ã€<code>@Repository</code>ï¼ˆç”¨äºæ•°æ®è®¿é—®å±‚ç»„ä»¶ï¼‰ã€<code>@Controller</code>ï¼ˆç”¨äºè¡¨ç°å±‚æ§åˆ¶å™¨ï¼‰ï¼Œå®ƒä»¬æœ¬è´¨ä¸Šå’Œ <code>@Component</code> ä¸€æ ·ï¼Œåªæ˜¯ä¸ºäº†è®©ä»£ç çš„è¯­ä¹‰æ›´æ¸…æ™°ã€‚</li>
</ul>
</li>
<li><strong><code>@Bean</code></strong><ul>
<li>å®ƒæ˜¯æ–¹æ³•çº§åˆ«çš„æ³¨è§£ï¼Œé€šå¸¸åœ¨é…ç½®ç±»ï¼ˆä½¿ç”¨ <code>@Configuration</code> æ³¨è§£çš„ç±»ï¼‰ä¸­ä½¿ç”¨ã€‚<code>@Bean</code> æ³¨è§£çš„ä½œç”¨æ˜¯å‘Šè¯‰ Springï¼Œç”±è¯¥æ³¨è§£æ ‡æ³¨çš„æ–¹æ³•å°†è¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡ä¼šè¢«æ³¨å†Œä¸º Spring å®¹å™¨ä¸­çš„ Beanã€‚</li>
</ul>
</li>
</ul>
<h2 id="ä½¿ç”¨æ–¹å¼"><a href="#ä½¿ç”¨æ–¹å¼" class="headerlink" title="ä½¿ç”¨æ–¹å¼"></a>ä½¿ç”¨æ–¹å¼</h2><ul>
<li><strong><code>@Component</code></strong><br>ä½¿ç”¨æ—¶ç›´æ¥å°†å…¶æ·»åŠ åˆ°ç±»çš„å®šä¹‰ä¸Šï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyComponent</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doSomething</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"Doing something..."</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>åŒæ—¶ï¼Œè¦ç¡®ä¿ Spring çš„ç»„ä»¶æ‰«æåŠŸèƒ½å¼€å¯ï¼Œä¸€èˆ¬åœ¨é…ç½®ç±»ä¸Šæ·»åŠ  <code>@ComponentScan</code> æ³¨è§£ï¼š<br><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.ComponentScan;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@ComponentScan</span>(basePackages = <span class="string">"com.example"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AppConfig</span> </span>&#123;</span><br><span class="line">    <span class="comment">// é…ç½®ç±»çš„å…¶ä»–å†…å®¹</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<ul>
<li><strong><code>@Bean</code></strong><br>åœ¨é…ç½®ç±»ä¸­ä½¿ç”¨ <code>@Bean</code> æ³¨è§£æ ‡æ³¨ä¸€ä¸ªæ–¹æ³•ï¼Œè¯¥æ–¹æ³•è¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Bean;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AppConfig</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> MyBean <span class="title">myBean</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> MyBean();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyBean</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doSomething</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"MyBean is doing something..."</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="çµæ´»æ€§"><a href="#çµæ´»æ€§" class="headerlink" title="çµæ´»æ€§"></a>çµæ´»æ€§</h2><ul>
<li><strong><code>@Component</code></strong><br>ä¸»è¦ç”¨äºæ ‡æ³¨è‡ªå®šä¹‰çš„ç±»ï¼Œè®© Spring è‡ªåŠ¨å‘ç°å¹¶æ³¨å†Œä¸º Beanã€‚è¿™ç§æ–¹å¼é€‚åˆé‚£äº›ä½ è‡ªå·±ç¼–å†™çš„ã€ç¬¦åˆç»„ä»¶è§„èŒƒçš„ç±»ã€‚ä½†å®ƒçš„å±€é™æ€§åœ¨äºï¼Œå¯¹äºä¸€äº›ç¬¬ä¸‰æ–¹åº“ä¸­çš„ç±»ï¼Œä½ æ— æ³•ç›´æ¥åœ¨å…¶ç±»å®šä¹‰ä¸Šæ·»åŠ  <code>@Component</code> æ³¨è§£ã€‚</li>
<li><strong><code>@Bean</code></strong><br>éå¸¸çµæ´»ï¼Œå¯ä»¥ç”¨äºä»»ä½•ç±»çš„ Bean å®šä¹‰ï¼ŒåŒ…æ‹¬ç¬¬ä¸‰æ–¹åº“ä¸­çš„ç±»ã€‚ä½ å¯ä»¥åœ¨é…ç½®ç±»ä¸­åˆ›å»ºå¹¶é…ç½®è¿™äº›ç±»çš„å®ä¾‹ï¼Œç„¶åå°†å…¶æ³¨å†Œä¸º Beanã€‚ä¾‹å¦‚ï¼Œä½ å¯ä»¥å¯¹ Bean çš„åˆ›å»ºè¿‡ç¨‹è¿›è¡Œæ›´å¤šçš„æ§åˆ¶ï¼Œå¦‚ä¼ å…¥å‚æ•°ã€è¿›è¡Œåˆå§‹åŒ–æ“ä½œç­‰ï¼š<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Bean;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AppConfig</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> ThirdPartyLibraryClass <span class="title">thirdPartyBean</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        ThirdPartyLibraryClass bean = <span class="keyword">new</span> ThirdPartyLibraryClass();</span><br><span class="line">        bean.setSomeProperty(<span class="string">"Some value"</span>);</span><br><span class="line">        <span class="keyword">return</span> bean;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="ç”Ÿå‘½å‘¨æœŸç®¡ç†"><a href="#ç”Ÿå‘½å‘¨æœŸç®¡ç†" class="headerlink" title="ç”Ÿå‘½å‘¨æœŸç®¡ç†"></a>ç”Ÿå‘½å‘¨æœŸç®¡ç†</h2><ul>
<li><strong><code>@Component</code></strong><br>Spring ä¼šè‡ªåŠ¨ç®¡ç†ä½¿ç”¨ <code>@Component</code> æ³¨è§£çš„ç±»çš„ç”Ÿå‘½å‘¨æœŸï¼ŒåŒ…æ‹¬å®ä¾‹åŒ–ã€ä¾èµ–æ³¨å…¥ã€åˆå§‹åŒ–å’Œé”€æ¯ç­‰è¿‡ç¨‹ã€‚è¿™äº›è¿‡ç¨‹é€šå¸¸éµå¾ª Spring çš„é»˜è®¤è§„åˆ™ã€‚</li>
<li><strong><code>@Bean</code></strong><br>ä½¿ç”¨ <code>@Bean</code> æ³¨è§£æ—¶ï¼Œä½ å¯ä»¥å¯¹ Bean çš„ç”Ÿå‘½å‘¨æœŸè¿›è¡Œæ›´ç»†ç²’åº¦çš„æ§åˆ¶ã€‚ä¾‹å¦‚ï¼Œä½ å¯ä»¥é€šè¿‡ <code>@Bean</code> æ³¨è§£çš„ <code>initMethod</code> å’Œ <code>destroyMethod</code> å±æ€§æŒ‡å®š Bean çš„åˆå§‹åŒ–æ–¹æ³•å’Œé”€æ¯æ–¹æ³•ï¼š<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Bean;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AppConfig</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Bean</span>(initMethod = <span class="string">"init"</span>, destroyMethod = <span class="string">"destroy"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> MyBean <span class="title">myBean</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> MyBean();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyBean</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"MyBean is initializing..."</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doSomething</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"MyBean is doing something..."</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">destroy</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"MyBean is destroying..."</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>ç»¼ä¸Šæ‰€è¿°ï¼Œ<code>@Component</code> é€‚ç”¨äºè‡ªåŠ¨æ‰«æå’Œæ³¨å†Œè‡ªå®šä¹‰ç»„ä»¶ï¼Œè€Œ <code>@Bean</code> æ›´ä¾§é‡äºæ‰‹åŠ¨é…ç½®å’Œç®¡ç† Beanï¼Œå°¤å…¶æ˜¯å¯¹äºç¬¬ä¸‰æ–¹åº“çš„ç±»æˆ–éœ€è¦ç²¾ç»†æ§åˆ¶ Bean åˆ›å»ºè¿‡ç¨‹çš„åœºæ™¯ã€‚ </p>
<h1 id="æ³¨è§£å¼€å‘æ€»ç»“"><a href="#æ³¨è§£å¼€å‘æ€»ç»“" class="headerlink" title="æ³¨è§£å¼€å‘æ€»ç»“"></a>æ³¨è§£å¼€å‘æ€»ç»“</h1><p><img src="/img/na_springboot_notes/image.png" alt="alt text"></p>
<h1 id="jdbcæ˜¯å•¥"><a href="#jdbcæ˜¯å•¥" class="headerlink" title="jdbcæ˜¯å•¥"></a>jdbcæ˜¯å•¥</h1><p>JDBC å³ Java Database Connectivityï¼ˆJava æ•°æ®åº“è¿æ¥ï¼‰ï¼Œå®ƒæ˜¯ Java ç¼–ç¨‹è¯­è¨€ç”¨äºä¸å„ç§å…³ç³»å‹æ•°æ®åº“è¿›è¡Œäº¤äº’çš„æ ‡å‡† APIã€‚ä»¥ä¸‹ä»æ¦‚å¿µã€å·¥ä½œåŸç†ã€æ ¸å¿ƒç»„ä»¶ã€ä½¿ç”¨æ­¥éª¤ã€ä¼˜ç¼ºç‚¹å‡ ä¸ªæ–¹é¢è¿›è¡Œè¯¦ç»†ä»‹ç»ï¼š</p>
<h2 id="æ¦‚å¿µ"><a href="#æ¦‚å¿µ" class="headerlink" title="æ¦‚å¿µ"></a>æ¦‚å¿µ</h2><p>JDBC ç”±ä¸€ç»„ç”¨ Java è¯­è¨€ç¼–å†™çš„ç±»å’Œæ¥å£ç»„æˆï¼Œä¸º Java å¼€å‘äººå‘˜æä¾›äº†ä¸€ç§ç»Ÿä¸€çš„æ–¹å¼æ¥è®¿é—®ä¸åŒç±»å‹çš„æ•°æ®åº“ï¼Œå¦‚ MySQLã€Oracleã€SQL Server ç­‰ï¼Œè€Œæ— éœ€å…³å¿ƒå…·ä½“æ•°æ®åº“çš„å®ç°ç»†èŠ‚ã€‚é€šè¿‡ JDBCï¼Œå¼€å‘äººå‘˜å¯ä»¥æ‰§è¡Œ SQL è¯­å¥ï¼Œå®ç°å¯¹æ•°æ®åº“çš„æŸ¥è¯¢ã€æ’å…¥ã€æ›´æ–°å’Œåˆ é™¤ç­‰æ“ä½œã€‚</p>
<h2 id="å·¥ä½œåŸç†"><a href="#å·¥ä½œåŸç†" class="headerlink" title="å·¥ä½œåŸç†"></a>å·¥ä½œåŸç†</h2><p>JDBC é‡‡ç”¨äº†ä¸€ç§åˆ†å±‚çš„æ¶æ„ï¼Œä¸»è¦åˆ†ä¸ºä¸¤å±‚ï¼šåº”ç”¨ç¨‹åºå±‚å’Œé©±åŠ¨ç¨‹åºå±‚ã€‚</p>
<ul>
<li><strong>åº”ç”¨ç¨‹åºå±‚</strong>ï¼šå¼€å‘äººå‘˜ç¼–å†™çš„ Java ä»£ç ï¼Œé€šè¿‡è°ƒç”¨ JDBC API æ¥æ‰§è¡Œæ•°æ®åº“æ“ä½œã€‚</li>
<li><strong>é©±åŠ¨ç¨‹åºå±‚</strong>ï¼šè´Ÿè´£ä¸å…·ä½“çš„æ•°æ®åº“è¿›è¡Œé€šä¿¡ï¼Œå°† JDBC API è°ƒç”¨è½¬æ¢ä¸ºæ•°æ®åº“èƒ½å¤Ÿç†è§£çš„æŒ‡ä»¤ã€‚ä¸åŒçš„æ•°æ®åº“éœ€è¦ä¸åŒçš„ JDBC é©±åŠ¨ç¨‹åºï¼Œä¾‹å¦‚ MySQL æœ‰ MySQL Connector/J é©±åŠ¨ï¼ŒOracle æœ‰ Oracle JDBC é©±åŠ¨ç­‰ã€‚</li>
</ul>
<h2 id="æ ¸å¿ƒç»„ä»¶"><a href="#æ ¸å¿ƒç»„ä»¶" class="headerlink" title="æ ¸å¿ƒç»„ä»¶"></a>æ ¸å¿ƒç»„ä»¶</h2><p>JDBC çš„æ ¸å¿ƒç»„ä»¶ä¸»è¦åŒ…æ‹¬ä»¥ä¸‹å‡ ä¸ªæ¥å£å’Œç±»ï¼š</p>
<ul>
<li><strong>DriverManager</strong>ï¼šè¿™æ˜¯ JDBC çš„ç®¡ç†å±‚ï¼Œè´Ÿè´£åŠ è½½ JDBC é©±åŠ¨ç¨‹åºå¹¶å»ºç«‹ä¸æ•°æ®åº“çš„è¿æ¥ã€‚å®ƒä¼šæ ¹æ®ä¸åŒçš„æ•°æ®åº“ URL æ¥é€‰æ‹©åˆé€‚çš„é©±åŠ¨ç¨‹åºï¼Œå¹¶è¿”å›ä¸€ä¸ª <code>Connection</code> å¯¹è±¡ã€‚</li>
<li><strong>Connection</strong>ï¼šä»£è¡¨ä¸æ•°æ®åº“çš„ä¸€ä¸ªè¿æ¥ä¼šè¯ï¼Œé€šè¿‡ <code>DriverManager.getConnection()</code> æ–¹æ³•è·å–ã€‚ä¸€ä¸ª <code>Connection</code> å¯¹è±¡å¯ä»¥åˆ›å»ºå¤šä¸ª <code>Statement</code> æˆ– <code>PreparedStatement</code> å¯¹è±¡ï¼Œç”¨äºæ‰§è¡Œ SQL è¯­å¥ã€‚</li>
<li><strong>Statement</strong>ï¼šç”¨äºæ‰§è¡Œé™æ€ SQL è¯­å¥ï¼Œå®ƒå¯ä»¥æ‰§è¡ŒæŸ¥è¯¢ã€æ›´æ–°ç­‰æ“ä½œã€‚ä½†ç”±äºå­˜åœ¨ SQL æ³¨å…¥çš„é£é™©ï¼Œåœ¨å®é™…å¼€å‘ä¸­ä½¿ç”¨ç›¸å¯¹è¾ƒå°‘ã€‚</li>
<li><strong>PreparedStatement</strong>ï¼šæ˜¯ <code>Statement</code> çš„å­æ¥å£ï¼Œç”¨äºæ‰§è¡Œé¢„ç¼–è¯‘çš„ SQL è¯­å¥ã€‚å®ƒå¯ä»¥æœ‰æ•ˆé˜²æ­¢ SQL æ³¨å…¥æ”»å‡»ï¼Œå¹¶ä¸”å¯¹äºéœ€è¦å¤šæ¬¡æ‰§è¡Œçš„ SQL è¯­å¥ï¼Œæ€§èƒ½æ›´é«˜ã€‚</li>
<li><strong>ResultSet</strong>ï¼šç”¨äºå­˜å‚¨ SQL æŸ¥è¯¢çš„ç»“æœé›†ã€‚å½“æ‰§è¡ŒæŸ¥è¯¢è¯­å¥åï¼Œä¼šè¿”å›ä¸€ä¸ª <code>ResultSet</code> å¯¹è±¡ï¼Œé€šè¿‡å®ƒå¯ä»¥éå†æŸ¥è¯¢ç»“æœï¼Œè·å–æ¯ä¸€è¡Œçš„æ•°æ®ã€‚</li>
</ul>
<h2 id="ä½¿ç”¨æ­¥éª¤"><a href="#ä½¿ç”¨æ­¥éª¤" class="headerlink" title="ä½¿ç”¨æ­¥éª¤"></a>ä½¿ç”¨æ­¥éª¤</h2><p>ä½¿ç”¨ JDBC è¿›è¡Œæ•°æ®åº“æ“ä½œä¸€èˆ¬éœ€è¦ä»¥ä¸‹å‡ ä¸ªæ­¥éª¤ï¼š</p>
<ol>
<li><p><strong>åŠ è½½ JDBC é©±åŠ¨ç¨‹åº</strong>ï¼šé€šè¿‡ <code>Class.forName()</code> æ–¹æ³•åŠ è½½ç›¸åº”çš„ JDBC é©±åŠ¨ç±»ã€‚ä¾‹å¦‚ï¼ŒåŠ è½½ MySQL é©±åŠ¨ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Class.forName(<span class="string">"com.mysql.cj.jdbc.Driver"</span>);</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>å»ºç«‹æ•°æ®åº“è¿æ¥</strong>ï¼šä½¿ç”¨ <code>DriverManager.getConnection()</code> æ–¹æ³•å»ºç«‹ä¸æ•°æ®åº“çš„è¿æ¥ï¼Œéœ€è¦æä¾›æ•°æ®åº“çš„ URLã€ç”¨æˆ·åå’Œå¯†ç ã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">String url = <span class="string">"jdbc:mysql://localhost:3306/mydb"</span>;</span><br><span class="line">String username = <span class="string">"root"</span>;</span><br><span class="line">String password = <span class="string">"password"</span>;</span><br><span class="line">Connection connection = DriverManager.getConnection(url, username, password);</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>åˆ›å»º <code>Statement</code> æˆ– <code>PreparedStatement</code> å¯¹è±¡</strong>ï¼šæ ¹æ®éœ€è¦æ‰§è¡Œçš„ SQL è¯­å¥ç±»å‹ï¼Œåˆ›å»ºç›¸åº”çš„å¯¹è±¡ã€‚ä¾‹å¦‚ï¼Œåˆ›å»º <code>PreparedStatement</code> å¯¹è±¡ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">String sql = <span class="string">"SELECT * FROM users WHERE id = ?"</span>;</span><br><span class="line">PreparedStatement preparedStatement = connection.prepareStatement(sql);</span><br><span class="line">preparedStatement.setInt(<span class="number">1</span>, <span class="number">1</span>);</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>æ‰§è¡Œ SQL è¯­å¥</strong>ï¼šè°ƒç”¨ <code>Statement</code> æˆ– <code>PreparedStatement</code> å¯¹è±¡çš„ <code>executeQuery()</code> æ–¹æ³•æ‰§è¡ŒæŸ¥è¯¢è¯­å¥ï¼Œæˆ– <code>executeUpdate()</code> æ–¹æ³•æ‰§è¡Œæ›´æ–°è¯­å¥ã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">ResultSet resultSet = preparedStatement.executeQuery();</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>å¤„ç†æŸ¥è¯¢ç»“æœ</strong>ï¼šå¦‚æœæ‰§è¡Œçš„æ˜¯æŸ¥è¯¢è¯­å¥ï¼Œéœ€è¦éå† <code>ResultSet</code> å¯¹è±¡è·å–æŸ¥è¯¢ç»“æœã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">while</span> (resultSet.next()) &#123;</span><br><span class="line">    <span class="keyword">int</span> id = resultSet.getInt(<span class="string">"id"</span>);</span><br><span class="line">    String name = resultSet.getString(<span class="string">"name"</span>);</span><br><span class="line">    System.out.println(<span class="string">"ID: "</span> + id + <span class="string">", Name: "</span> + name);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>å…³é—­èµ„æº</strong>ï¼šæ“ä½œå®Œæˆåï¼Œéœ€è¦ä¾æ¬¡å…³é—­ <code>ResultSet</code>ã€<code>Statement</code> å’Œ <code>Connection</code> å¯¹è±¡ï¼Œä»¥é‡Šæ”¾èµ„æºã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">resultSet.close();</span><br><span class="line">preparedStatement.close();</span><br><span class="line">connection.close();</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h2 id="ä¼˜ç¼ºç‚¹"><a href="#ä¼˜ç¼ºç‚¹" class="headerlink" title="ä¼˜ç¼ºç‚¹"></a>ä¼˜ç¼ºç‚¹</h2><ul>
<li><strong>ä¼˜ç‚¹</strong><ul>
<li><strong>é€šç”¨æ€§</strong>ï¼šæä¾›äº†ç»Ÿä¸€çš„ APIï¼Œä½¿å¾—å¼€å‘äººå‘˜å¯ä»¥ä½¿ç”¨ç›¸åŒçš„ä»£ç ç»“æ„æ¥è®¿é—®ä¸åŒçš„æ•°æ®åº“ï¼Œæé«˜äº†ä»£ç çš„å¯ç§»æ¤æ€§ã€‚</li>
<li><strong>çµæ´»æ€§</strong>ï¼šå¯ä»¥æ‰§è¡Œä»»æ„çš„ SQL è¯­å¥ï¼Œå¯¹æ•°æ®åº“è¿›è¡Œå„ç§æ“ä½œï¼Œæ»¡è¶³ä¸åŒçš„ä¸šåŠ¡éœ€æ±‚ã€‚</li>
<li><strong>æ€§èƒ½</strong>ï¼šå¯¹äºç®€å•çš„æ•°æ®åº“æ“ä½œï¼ŒJDBC å…·æœ‰è¾ƒé«˜çš„æ€§èƒ½ï¼Œå› ä¸ºå®ƒç›´æ¥ä¸æ•°æ®åº“è¿›è¡Œäº¤äº’ï¼Œæ²¡æœ‰è¿‡å¤šçš„ä¸­é—´å±‚ã€‚</li>
</ul>
</li>
<li><strong>ç¼ºç‚¹</strong><ul>
<li><strong>ä»£ç ç¹ç</strong>ï¼šä½¿ç”¨ JDBC è¿›è¡Œæ•°æ®åº“æ“ä½œéœ€è¦ç¼–å†™å¤§é‡çš„æ ·æ¿ä»£ç ï¼Œå¦‚åŠ è½½é©±åŠ¨ã€å»ºç«‹è¿æ¥ã€å…³é—­èµ„æºç­‰ï¼Œå¢åŠ äº†å¼€å‘çš„å·¥ä½œé‡ã€‚</li>
<li><strong>ç¼ºä¹é«˜çº§ç‰¹æ€§</strong>ï¼šJDBC æœ¬èº«ä¸æä¾›å¯¹è±¡å…³ç³»æ˜ å°„ï¼ˆORMï¼‰ç­‰é«˜çº§ç‰¹æ€§ï¼Œå¯¹äºå¤æ‚çš„æ•°æ®åº“æ“ä½œï¼Œå¼€å‘äººå‘˜éœ€è¦æ‰‹åŠ¨ç¼–å†™å¤§é‡çš„ SQL è¯­å¥å’Œæ•°æ®è½¬æ¢ä»£ç ã€‚ </li>
</ul>
</li>
</ul>
<h1 id="CORS"><a href="#CORS" class="headerlink" title="CORS"></a>CORS</h1><p>CORSï¼ˆCross-Origin Resource Sharingï¼Œè·¨åŸŸèµ„æºå…±äº«ï¼‰ æ˜¯ä¸€ç§æµè§ˆå™¨å®‰å…¨æœºåˆ¶ï¼Œç”¨äºå…è®¸æˆ–é™åˆ¶ä¸åŒæºï¼ˆåŸŸã€åè®®ã€ç«¯å£ï¼‰çš„ç½‘é¡µå‘ä½ çš„æœåŠ¡å™¨è¯·æ±‚èµ„æºã€‚</p>
<ol>
<li><p>ä¸ºä»€ä¹ˆéœ€è¦ CORSï¼Ÿ</p>
<p> å‡ºäºå®‰å…¨è€ƒè™‘ï¼Œæµè§ˆå™¨é»˜è®¤ç¦æ­¢ç½‘é¡µå‘ä¸åŒçš„æºå‘é€è¯·æ±‚ï¼ˆåŒæºç­–ç•¥ï¼ŒSame-Origin Policyï¼‰ã€‚ä½†åœ¨å®é™…å¼€å‘ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸éœ€è¦ä»ä¸åŒçš„åŸŸåè·å–æ•°æ®ï¼Œæ¯”å¦‚ï¼š</p>
<pre><code>â€¢    å‰ç«¯è¿è¡Œåœ¨ http://localhost:3000
â€¢    åç«¯ API è¿è¡Œåœ¨ http://api.example.com
â€¢    æµè§ˆå™¨ä¼šæ‹¦æˆªå‰ç«¯å¯¹ http://api.example.com çš„è¯·æ±‚ï¼Œé™¤éæœåŠ¡å™¨æ˜ç¡®å…è®¸ã€‚
</code></pre></li>
<li><p>CORS å…è®¸è·¨åŸŸçš„æ–¹å¼</p>
<p> å½“å‰ç«¯å‘æœåŠ¡å™¨å‘é€è·¨åŸŸè¯·æ±‚æ—¶ï¼ŒæœåŠ¡å™¨éœ€è¦åœ¨<strong>å“åº”å¤´ï¼ˆResponse Headersï¼‰</strong>ä¸­åŠ å…¥ CORS ç›¸å…³å­—æ®µï¼Œæ¯”å¦‚ï¼š</p>
<p> <code>Access-Control-Allow-Origin: *</code></p>
<p> è¡¨ç¤ºå…è®¸æ‰€æœ‰æ¥æºè®¿é—®è¯¥èµ„æºã€‚</p>
<p> å¦‚æœæœåŠ¡å™¨åªå…è®¸ç‰¹å®šçš„åŸŸè®¿é—®ï¼Œæ¯”å¦‚ <a href="http://example.comï¼š" target="_blank" rel="noopener">http://example.comï¼š</a></p>
<p> <code>Access-Control-Allow-Origin: http://example.com</code></p>
</li>
<li><p>CORS ä¸»è¦çš„ HTTP å¤´</p>
</li>
</ol>
<table>
<thead>
<tr>
<th style="text-align:center">å¤´éƒ¨å­—æ®µ</th>
<th style="text-align:center">ä½œç”¨</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">Access-Control-Allow-Origin</td>
<td style="text-align:center">å…è®¸çš„æ¥æºï¼ˆ* ä»£è¡¨æ‰€æœ‰ï¼‰</td>
</tr>
<tr>
<td style="text-align:center">Access-Control-Allow-Methods</td>
<td style="text-align:center">å…è®¸çš„ HTTP æ–¹æ³•ï¼ˆå¦‚ GET, POST, PUTï¼‰</td>
</tr>
<tr>
<td style="text-align:center">Access-Control-Allow-Headers</td>
<td style="text-align:center">å…è®¸çš„è¯·æ±‚å¤´</td>
</tr>
<tr>
<td style="text-align:center">Access-Control-Allow-Credentials</td>
<td style="text-align:center">æ˜¯å¦å…è®¸æºå¸¦ Cookie</td>
</tr>
</tbody>
</table>
<p>4. é¢„æ£€è¯·æ±‚ï¼ˆPreflight Requestï¼‰<br>    å¯¹äºæŸäº›è·¨åŸŸè¯·æ±‚ï¼ˆå¦‚ PUTã€DELETE æˆ–è‡ªå®šä¹‰å¤´éƒ¨çš„ POSTï¼‰ï¼Œæµè§ˆå™¨ä¼šå…ˆå‘é€ä¸€ä¸ª OPTIONS è¯·æ±‚ï¼ŒæœåŠ¡å™¨éœ€è¦è¿”å›æ­£ç¡®çš„ CORS å¤´ï¼Œæµè§ˆå™¨æ‰ä¼šç»§ç»­å‘é€çœŸæ­£çš„è¯·æ±‚ã€‚<br>ç¤ºä¾‹ï¼š<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">OPTIONS /api/data HTTP/1.1</span><br><span class="line">Origin: http://example.com</span><br><span class="line">Access-Control-Request-Method: POST</span><br></pre></td></tr></table></figure></p>
<p>æœåŠ¡å™¨å“åº”ï¼š<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">HTTP/1.1 204 No Content</span><br><span class="line">Access-Control-Allow-Origin: http://example.com</span><br><span class="line">Access-Control-Allow-Methods: POST, GET, OPTIONS</span><br></pre></td></tr></table></figure></p>
<p>5. å¦‚ä½•è§£å†³ CORS é—®é¢˜ï¼Ÿ<br>    å¦‚æœé‡åˆ° CORS è·¨åŸŸæŠ¥é”™ï¼Œå¯ä»¥ï¼š<br>        â€¢    ä¿®æ”¹åç«¯ä»£ç  æ·»åŠ  CORS å¤´ï¼ˆæ¨èï¼‰<br>        â€¢    ä½¿ç”¨åå‘ä»£ç†ï¼ˆNginxã€Webpack devServer ä»£ç†ï¼‰<br>        â€¢    åœ¨æœ¬åœ°å¼€å‘æ—¶ä½¿ç”¨æµè§ˆå™¨æ’ä»¶ï¼ˆä»…é™è°ƒè¯•ï¼‰</p>
<h1 id="CSRF"><a href="#CSRF" class="headerlink" title="CSRF"></a>CSRF</h1><p>CSRFï¼ˆCross-Site Request Forgeryï¼‰ï¼Œå³è·¨ç«™è¯·æ±‚ä¼ªé€ ï¼Œæ˜¯ä¸€ç§å¸¸è§çš„ç½‘ç»œæ”»å‡»æ–¹å¼ã€‚ä¸‹é¢ä¸ºä½ è¯¦ç»†è§£é‡Š CSRF ä½†ä¸æ¶‰åŠæœ¬é¡¹ç›®ä»£ç ï¼š</p>
<h2 id="å’Œjwtçš„å…³ç³»"><a href="#å’Œjwtçš„å…³ç³»" class="headerlink" title="å’Œjwtçš„å…³ç³»"></a>å’Œjwtçš„å…³ç³»</h2><p>åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œæ¯”å¦‚ä½¿ç”¨æ— çŠ¶æ€çš„ RESTful APIï¼ˆå¦‚ä½¿ç”¨ JWT è¿›è¡Œèº«ä»½éªŒè¯ï¼Œæ˜¯æ— çŠ¶æ€çš„ï¼‰ï¼Œå¯ä»¥è€ƒè™‘ç¦ç”¨ CSRF é˜²æŠ¤ï¼Œå› ä¸º JWT æœ¬èº«å·²ç»æä¾›äº†ä¸€å®šçš„å®‰å…¨æ€§ï¼Œä¸” RESTful API é€šå¸¸é€šè¿‡å…¶ä»–æ–¹å¼ï¼ˆå¦‚ä»¤ç‰ŒéªŒè¯ï¼‰æ¥ç¡®ä¿è¯·æ±‚çš„åˆæ³•æ€§ã€‚ä½†åœ¨ä¸€äº›æœ‰çŠ¶æ€çš„åº”ç”¨ä¸­ï¼Œå¦‚ä¼ ç»Ÿçš„åŸºäºä¼šè¯çš„ Web åº”ç”¨ï¼Œé€šå¸¸éœ€è¦å¼€å¯ CSRF é˜²æŠ¤</p>
<h2 id="æ”»å‡»åŸç†"><a href="#æ”»å‡»åŸç†" class="headerlink" title="æ”»å‡»åŸç†"></a>æ”»å‡»åŸç†</h2><ol>
<li><strong>ç”¨æˆ·è®¤è¯</strong>ï¼šç”¨æˆ·åœ¨è®¿é—®æŸä¸ªå—ä¿¡ä»»çš„ç½‘ç«™ A æ—¶ï¼Œè¿›è¡Œäº†ç™»å½•æ“ä½œï¼Œç½‘ç«™ A ä¼šåœ¨ç”¨æˆ·çš„æµè§ˆå™¨ä¸­ä¿å­˜ç”¨æˆ·çš„è®¤è¯ä¿¡æ¯ï¼Œæ¯”å¦‚ä¼šè¯ Cookieã€‚</li>
<li><strong>æ¶æ„ç½‘ç«™è¯±å¯¼</strong>ï¼šæ”»å‡»è€…æ„å»ºä¸€ä¸ªæ¶æ„ç½‘ç«™ Bï¼Œå½“ç”¨æˆ·åœ¨è®¿é—®æ¶æ„ç½‘ç«™ B æ—¶ï¼Œç½‘ç«™ B ä¼šåˆ©ç”¨ä¸€äº›æ‰‹æ®µï¼ˆæ¯”å¦‚è‡ªåŠ¨æäº¤è¡¨å•ç­‰ï¼‰å‘å—ä¿¡ä»»çš„ç½‘ç«™ A å‘é€ä¸€ä¸ªè¯·æ±‚ã€‚ç”±äºç”¨æˆ·çš„æµè§ˆå™¨ä¸­ä¿å­˜äº†ç½‘ç«™ A çš„è®¤è¯ä¿¡æ¯ï¼Œè¿™ä¸ªè¯·æ±‚ä¼šæºå¸¦ç”¨æˆ·çš„è®¤è¯ä¿¡æ¯ï¼ˆå¦‚ Cookieï¼‰å‘é€åˆ°ç½‘ç«™ Aã€‚</li>
<li><strong>ç½‘ç«™ A å¤„ç†è¯·æ±‚</strong>ï¼šç½‘ç«™ A æ”¶åˆ°è¯·æ±‚åï¼Œå› ä¸ºè¯·æ±‚ä¸­åŒ…å«äº†ç”¨æˆ·çš„åˆæ³•è®¤è¯ä¿¡æ¯ï¼Œä¼šè¯¯ä»¥ä¸ºæ˜¯ç”¨æˆ·è‡ªå·±å‘èµ·çš„è¯·æ±‚ï¼Œä»è€Œæ‰§è¡Œç›¸åº”çš„æ“ä½œï¼Œæ¯”å¦‚ä¿®æ”¹ç”¨æˆ·çš„å¯†ç ã€è½¬è´¦ç­‰ã€‚</li>
</ol>
<h2 id="å¸¸è§çš„æ”»å‡»åœºæ™¯"><a href="#å¸¸è§çš„æ”»å‡»åœºæ™¯" class="headerlink" title="å¸¸è§çš„æ”»å‡»åœºæ™¯"></a>å¸¸è§çš„æ”»å‡»åœºæ™¯</h2><ul>
<li><strong>è‡ªåŠ¨æäº¤è¡¨å•</strong>ï¼šæ¶æ„ç½‘ç«™åŒ…å«ä¸€ä¸ªéšè—çš„è¡¨å•ï¼Œè¡¨å•çš„ action å±æ€§æŒ‡å‘å—ä¿¡ä»»ç½‘ç«™çš„æŸä¸ªæ•æ„Ÿæ“ä½œæ¥å£ï¼Œå½“ç”¨æˆ·è®¿é—®æ¶æ„ç½‘ç«™æ—¶ï¼Œè¡¨å•ä¼šè‡ªåŠ¨æäº¤ï¼Œä»è€Œè§¦å‘å¯¹å—ä¿¡ä»»ç½‘ç«™çš„æ”»å‡»è¯·æ±‚ã€‚</li>
<li><strong>å›¾ç‰‡æ ‡ç­¾æ”»å‡»</strong>ï¼šæ”»å‡»è€…åœ¨æ¶æ„ç½‘ç«™ä¸­ä½¿ç”¨ <code>&lt;img&gt;</code> æ ‡ç­¾ï¼Œå°†å…¶ <code>src</code> å±æ€§è®¾ç½®ä¸ºå—ä¿¡ä»»ç½‘ç«™çš„æŸä¸ªæ•æ„Ÿæ“ä½œæ¥å£ï¼Œå½“ç”¨æˆ·è®¿é—®æ¶æ„ç½‘ç«™æ—¶ï¼Œæµè§ˆå™¨ä¼šè‡ªåŠ¨è¯·æ±‚è¯¥å›¾ç‰‡ï¼Œä»è€Œè§¦å‘å¯¹å—ä¿¡ä»»ç½‘ç«™çš„æ”»å‡»è¯·æ±‚ã€‚</li>
</ul>
<h2 id="é˜²èŒƒæªæ–½"><a href="#é˜²èŒƒæªæ–½" class="headerlink" title="é˜²èŒƒæªæ–½"></a>é˜²èŒƒæªæ–½</h2><ol>
<li><p><strong>ä½¿ç”¨ CSRF Token</strong></p>
<ul>
<li>åŸç†ï¼šæœåŠ¡å™¨åœ¨ç”Ÿæˆé¡µé¢æ—¶ï¼Œä¼šä¸ºæ¯ä¸ªç”¨æˆ·çš„è¯·æ±‚ç”Ÿæˆä¸€ä¸ªå”¯ä¸€çš„ CSRF Tokenï¼Œå¹¶å°†å…¶åµŒå…¥åˆ°é¡µé¢ä¸­ï¼ˆæ¯”å¦‚ä½œä¸ºéšè—è¡¨å•å­—æ®µæˆ–è€…è¯·æ±‚å¤´ï¼‰ã€‚å½“ç”¨æˆ·æäº¤è¡¨å•æˆ–è€…å‘é€è¯·æ±‚æ—¶ï¼Œå¿…é¡»æºå¸¦è¿™ä¸ª CSRF Tokenã€‚æœåŠ¡å™¨åœ¨æ¥æ”¶åˆ°è¯·æ±‚æ—¶ï¼Œä¼šéªŒè¯è¯·æ±‚ä¸­çš„ CSRF Token æ˜¯å¦ä¸æœåŠ¡å™¨ç”Ÿæˆçš„ä¸€è‡´ï¼Œå¦‚æœä¸ä¸€è‡´åˆ™æ‹’ç»è¯·æ±‚ã€‚</li>
<li>ç¤ºä¾‹ï¼šåœ¨è¡¨å•ä¸­æ·»åŠ  CSRF Tokenï¼š<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">"/transfer"</span> <span class="attr">method</span>=<span class="string">"post"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"hidden"</span> <span class="attr">name</span>=<span class="string">"csrf_token"</span> <span class="attr">value</span>=<span class="string">"&#123;&#123; csrf_token &#125;&#125;"</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- å…¶ä»–è¡¨å•å­—æ®µ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">value</span>=<span class="string">"Transfer"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p><strong>æ£€æŸ¥è¯·æ±‚çš„ Referer å¤´</strong></p>
<ul>
<li>åŸç†ï¼šæœåŠ¡å™¨åœ¨æ¥æ”¶åˆ°è¯·æ±‚æ—¶ï¼Œæ£€æŸ¥è¯·æ±‚çš„ Referer å¤´ï¼Œç¡®ä¿è¯·æ±‚æ˜¯ä»æœ¬ç½‘ç«™çš„é¡µé¢å‘èµ·çš„ã€‚å¦‚æœ Referer å¤´ä¸ºç©ºæˆ–è€…æŒ‡å‘å…¶ä»–åŸŸåï¼Œåˆ™æ‹’ç»è¯·æ±‚ã€‚</li>
<li>ç¼ºç‚¹ï¼šReferer å¤´å¯ä»¥è¢«ç¯¡æ”¹ï¼Œå¹¶ä¸”æœ‰äº›ç”¨æˆ·å¯èƒ½ä¼šç¦ç”¨ Referer å¤´ï¼Œå› æ­¤è¿™ç§æ–¹æ³•ä¸æ˜¯éå¸¸å¯é ï¼Œé€šå¸¸ä½œä¸ºè¾…åŠ©æ‰‹æ®µä½¿ç”¨ã€‚</li>
</ul>
</li>
<li><strong>ä½¿ç”¨ SameSite Cookie å±æ€§</strong><ul>
<li>åŸç†ï¼šSameSite æ˜¯ä¸€ä¸ª Cookie å±æ€§ï¼Œç”¨äºæ§åˆ¶ Cookie åœ¨è·¨ç«™è¯·æ±‚æ—¶çš„å‘é€è¡Œä¸ºã€‚å¯ä»¥å°† Cookie çš„ SameSite å±æ€§è®¾ç½®ä¸º <code>Strict</code> æˆ– <code>Lax</code>ã€‚<code>Strict</code> è¡¨ç¤º Cookie åªèƒ½åœ¨åŒä¸€ç«™ç‚¹çš„è¯·æ±‚ä¸­å‘é€ï¼Œ<code>Lax</code> è¡¨ç¤º Cookie å¯ä»¥åœ¨ä¸€äº›å®‰å…¨çš„è·¨ç«™è¯·æ±‚ï¼ˆå¦‚ GET è¯·æ±‚ï¼‰ä¸­å‘é€ã€‚</li>
<li>ç¤ºä¾‹ï¼šåœ¨è®¾ç½® Cookie æ—¶æ·»åŠ  SameSite å±æ€§ï¼š<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Java ç¤ºä¾‹</span></span><br><span class="line">Cookie cookie = <span class="keyword">new</span> Cookie(<span class="string">"session_id"</span>, <span class="string">"123456"</span>);</span><br><span class="line">cookie.setSameSite(<span class="string">"Strict"</span>);</span><br><span class="line">response.addCookie(cookie);</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ol>
<p>æ€»ä¹‹ï¼ŒCSRF æ˜¯ä¸€ç§ä¸¥é‡çš„å®‰å…¨å¨èƒï¼Œå¼€å‘äººå‘˜åœ¨å¼€å‘ Web åº”ç”¨æ—¶éœ€è¦é‡‡å–æœ‰æ•ˆçš„é˜²èŒƒæªæ–½æ¥ä¿æŠ¤ç”¨æˆ·çš„ä¿¡æ¯å®‰å…¨ã€‚</p>

      


      

    
      <footer class="post-footer">
        
          <div class="post-tags">
            
              <a href="/tags/noodle/" rel="tag"><i class="fa fa-tag"></i> noodle</a>
            
              <a href="/tags/Java/" rel="tag"><i class="fa fa-tag"></i> Java</a>
            
              <a href="/tags/NA/" rel="tag"><i class="fa fa-tag"></i> NA</a>
            
              <a href="/tags/SpringBoot/" rel="tag"><i class="fa fa-tag"></i> SpringBoot</a>
            
          </div>
        

        
        
        

        
          <div class="post-nav">
            <div class="post-nav-next post-nav-item">
              
                <a href="/na_little_dinosaur_java_top_questions_notes/" rel="next" title="LD Questions notes">
                  <i class="fa fa-chevron-left"></i> 
                  <p class="post-nav-pre-next-title">
                    LD Questions notes
                  </p> 
                </a>
              
            </div>

            <span class="post-nav-divider"></span>

            <div class="post-nav-prev post-nav-item">
              
                <a href="/na_word_list/" rel="prev" title="IT Word List">
                <p class="post-nav-pre-next-title">
                    IT Word List
                </p> 
                <i class="fa fa-chevron-right"></i>
                </a>
              
            </div>
          </div>
        

        
        
      </footer>
      
    </div>
    
    
    

    

    

    

  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
  </div>


        </div>
        
          
  
  

  <aside id="sidebar" class="sidebar">

    
      
        <div id="sidebar-dimmer"></div>
      
    

    <div class="sidebar-inner">
    
      <div class="sidebar-toggle-inside motion-element">
        <div class="sidebar-toggle-line-wrap">
          <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
          <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
          <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
        </div>
      </div>

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            Overview
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a href="/" class="site-author-image" rel="start" style="border:none">
            <img class="site-author-image" itemprop="image" src="/uploads/avatar.png" alt="Mike">
          </a>
          <p class="site-author-name" itemprop="name">Mike</p>
           
              <p class="site-description motion-element" itemprop="description">ğŸš™ ğŸš— ğŸ’¨ ğŸ’¨ If you want to create a blog like this, just follow my open-source project, "hexo-theme-neo", click the GitHub button below and check it out ^_^ . It is recommended to use Chrome, Safari, or Edge to read this blog since this blog was developed on Edge (Chromium kernel version) and tested on Safari.</p>
          
        </div>

        <nav class="site-state motion-element">

          
            
            
            <div class="site-state-item site-state-categories">
              <a href="/categories/index.html">
                <span class="site-state-item-count">11</span>
                <span class="site-state-item-name">categories</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-posts">
              <a href="/archives/">
                <span class="site-state-item-count">283</span>
                <span class="site-state-item-name">posts</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">105</span>
                <span class="site-state-item-name">tags</span>
              </a>
            </div>
          

          <div class="site-state-item site-state-about">
            <a href="/about/">
              <span class="site-state-item-about fa fa-fw fa-user"></span>
              <span class="site-state-item-name">about</span>
            </a>
          </div>
          
        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/no5ix" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                    
                      GitHub
                    
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://open.spotify.com/user/313duq77ekebrfyak3xijqewzss4?si=e7653b829a9747bf" target="_blank" title="Spotify">
                  
                    <i class="fa fa-fw fa-spotify"></i>
                  
                    
                      Spotify
                    
                </a>
              </span>
            
          
          
          <!-- ç½‘æ˜“äº‘éŸ³ä¹ -->
            <!-- <div class="netease-cloud-music"> -->
              <!-- <iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=280 height=110 src="//music.163.com/outchain/player?type=0&id=992743594&auto=0&height=90"></iframe> -->
            <!-- </div> -->
          <!-- ç½‘æ˜“äº‘éŸ³ä¹ -->

        </div>

        
        

        
        

        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#å‚è€ƒé“¾æ¥"><span class="nav-text">å‚è€ƒé“¾æ¥</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#spring-çš„beanæ˜¯å•¥æ„æ€"><span class="nav-text">spring çš„beanæ˜¯å•¥æ„æ€</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#å®šä¹‰ä¸æœ¬è´¨"><span class="nav-text">å®šä¹‰ä¸æœ¬è´¨</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Bean-çš„åˆ›å»ºæ–¹å¼"><span class="nav-text">Bean çš„åˆ›å»ºæ–¹å¼</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Bean-çš„ç”Ÿå‘½å‘¨æœŸ"><span class="nav-text">Bean çš„ç”Ÿå‘½å‘¨æœŸ</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Bean-çš„ä½œç”¨åŸŸ"><span class="nav-text">Bean çš„ä½œç”¨åŸŸ</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Bean-çš„æ„ä¹‰å’Œä¼˜åŠ¿"><span class="nav-text">Bean çš„æ„ä¹‰å’Œä¼˜åŠ¿</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#spring-coreå’Œspringbootå’Œspring-jpaå’Œspring-restå’Œspring-security-çš„åŒºåˆ«"><span class="nav-text">spring coreå’Œspringbootå’Œspring jpaå’Œspring restå’Œspring security çš„åŒºåˆ«</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Spring-Core"><span class="nav-text">Spring Core</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Spring-Boot"><span class="nav-text">Spring Boot</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Spring-JPA"><span class="nav-text">Spring JPA</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Spring-REST"><span class="nav-text">Spring REST</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Spring-Security"><span class="nav-text">Spring Security</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#æ€»ç»“"><span class="nav-text">æ€»ç»“</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#the-relationship-between-Servlet-and-TomCat"><span class="nav-text">the relationship between Servlet and TomCat</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Specification-and-implementation-relationship"><span class="nav-text">Specification and implementation relationship</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Running-carrier-relationship"><span class="nav-text">Running carrier relationship</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Interaction-and-collaboration-relationship"><span class="nav-text">Interaction and collaboration relationship</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Development-and-deployment-relationship"><span class="nav-text">Development and deployment relationship</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#J2EE-vs-Spring"><span class="nav-text">J2EE vs Spring</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Spring-JPAå’ŒMyBatisåŒºåˆ«"><span class="nav-text">Spring JPAå’ŒMyBatisåŒºåˆ«</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-è®¾è®¡ç†å¿µ"><span class="nav-text">1. è®¾è®¡ç†å¿µ</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-SQL-æ§åˆ¶ç¨‹åº¦"><span class="nav-text">2. SQL æ§åˆ¶ç¨‹åº¦</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-å­¦ä¹ æˆæœ¬"><span class="nav-text">3. å­¦ä¹ æˆæœ¬</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-æ€§èƒ½è¡¨ç°"><span class="nav-text">4. æ€§èƒ½è¡¨ç°</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-é€‚ç”¨åœºæ™¯"><span class="nav-text">5. é€‚ç”¨åœºæ™¯</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#æš´åŠ›åå°„æ˜¯å•¥"><span class="nav-text">æš´åŠ›åå°„æ˜¯å•¥</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Beanå’Œ-ComponentåŒºåˆ«"><span class="nav-text">@Beanå’Œ@ComponentåŒºåˆ«</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#ä½œç”¨å±‚é¢"><span class="nav-text">ä½œç”¨å±‚é¢</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ä½¿ç”¨æ–¹å¼"><span class="nav-text">ä½¿ç”¨æ–¹å¼</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#çµæ´»æ€§"><span class="nav-text">çµæ´»æ€§</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ç”Ÿå‘½å‘¨æœŸç®¡ç†"><span class="nav-text">ç”Ÿå‘½å‘¨æœŸç®¡ç†</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#æ³¨è§£å¼€å‘æ€»ç»“"><span class="nav-text">æ³¨è§£å¼€å‘æ€»ç»“</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#jdbcæ˜¯å•¥"><span class="nav-text">jdbcæ˜¯å•¥</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#æ¦‚å¿µ"><span class="nav-text">æ¦‚å¿µ</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#å·¥ä½œåŸç†"><span class="nav-text">å·¥ä½œåŸç†</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#æ ¸å¿ƒç»„ä»¶"><span class="nav-text">æ ¸å¿ƒç»„ä»¶</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ä½¿ç”¨æ­¥éª¤"><span class="nav-text">ä½¿ç”¨æ­¥éª¤</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ä¼˜ç¼ºç‚¹"><span class="nav-text">ä¼˜ç¼ºç‚¹</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#CORS"><span class="nav-text">CORS</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#CSRF"><span class="nav-text">CSRF</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#å’Œjwtçš„å…³ç³»"><span class="nav-text">å’Œjwtçš„å…³ç³»</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#æ”»å‡»åŸç†"><span class="nav-text">æ”»å‡»åŸç†</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#å¸¸è§çš„æ”»å‡»åœºæ™¯"><span class="nav-text">å¸¸è§çš„æ”»å‡»åœºæ™¯</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#é˜²èŒƒæªæ–½"><span class="nav-text">é˜²èŒƒæªæ–½</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">
  
  &copy;  2013 - 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Mike</span>
</div>



        

        
      </div>
    </footer>

    <!--
    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
      
        <span id="scrollpercent"><span>0</span>%</span>
      
    </div>
    -->

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>











  















  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/mediumzoom/medium-zoom.js?v=1.1.0"></script>




  




  <script type="text/javascript" src="/js/src/utils.js?v=5.1.2"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.2"></script>


  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.2"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.2"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.2"></script>



  


  




	





  





  






  

    <script src="/js/src/local-search.js"></script>





  

  

  

  

  

  


  <script type="text/javascript" src="/lib/wobble_window/wobblewindow.js"> </script>
<script type="text/javascript" src="/js/src/custom.js"></script>
</body>
</html>






<script type="text/javascript" src="/js/src/headroom.js"></script> 

<!-- ä»£ç å—å¤åˆ¶åŠŸèƒ½ -->
<script type="text/javascript" src="/js/src/code-highlight-modification.js"></script>
