<!DOCTYPE html>



  


<html class="theme-next mist use-motion" lang="en">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">


  <meta name="theme-color" content="#222" media="(prefers-color-scheme: light)">
  <meta name="theme-color" content="#222" media="(prefers-color-scheme: dark)">

<script>
    (function(){
        if(''){
            let localStoragePasswdKey = '' + '_last_passwd';
            function checkPassword(password) {
                password = password == null ? null : password.trim();
                if (password !== '') {
                    if (password != null) {
                        // å¦‚æœç”¨æˆ·ç‚¹å‡»äº†ç¡®è®¤è€Œä¸”å¯†ç é”™è¯¯çš„æ—¶å€™, å› ä¸ºå½“password == nullçš„æ—¶å€™è¯´æ˜ç”¨æˆ·ç‚¹äº†å–æ¶ˆ
                        alert('Error!');
                    }
                    if (history.length > 1) {
                        history.back();
                    } else {
                        window.location.href = "about:blank";
                    }
                } else {
                    localStorage.setItem(localStoragePasswdKey, password);
                }
            }

            var password_verify_on_local = false;
            const hostname = window.location.hostname;
            if (password_verify_on_local || (!(hostname === "localhost" || hostname === "127.0.0.1" || hostname === "::1" || hostname.startsWith("192")))) {
                const lspk = localStorage.getItem(localStoragePasswdKey) || "";
                if (lspk !== '') {
                    var password = prompt('Open Sesame');
                    checkPassword(password);
                }
            }
        }
    })();
</script>








<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">





















<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.2" rel="stylesheet" type="text/css">


  <meta name="keywords" content="Hexo, NexT">








  <link rel="shortcut icon" type="image/x-icon" href="/images/favicon.ico?v=5.1.2">






<meta name="description" content="ğŸš™ ğŸš— ğŸ’¨ ğŸ’¨ If you want to create a blog like this, just follow my open-source project, &quot;hexo-theme-neo&quot;, click the GitHub button below and check it out ^_^ . It is recommended to use Chrome, Safari,">
<meta property="og:type" content="website">
<meta property="og:title" content="ğŸš™">
<meta property="og:url" content="https://hulinhong.com/page/24/index.html">
<meta property="og:site_name" content="ğŸš™">
<meta property="og:description" content="ğŸš™ ğŸš— ğŸ’¨ ğŸ’¨ If you want to create a blog like this, just follow my open-source project, &quot;hexo-theme-neo&quot;, click the GitHub button below and check it out ^_^ . It is recommended to use Chrome, Safari,">
<meta property="og:locale" content="en">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="ğŸš™">
<meta name="twitter:description" content="ğŸš™ ğŸš— ğŸ’¨ ğŸ’¨ If you want to create a blog like this, just follow my open-source project, &quot;hexo-theme-neo&quot;, click the GitHub button below and check it out ^_^ . It is recommended to use Chrome, Safari,">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    sidebar: {"position":"left","display":"always","offset":12,"offset_float":12,"scrollpercent":true,"onmobile":true,"dimmer":true,"body_content_height":0,"display_duration":150},
    local_search: {"enable":true,"trigger":"auto","top_n_per_article":1},
    fancybox: false,
    mediumzoom: true,
    darkmode_js: false,
    tabs: true,
    motion: {"enable":true,"async":false,"duration":188,"transition":{"header":"fadeIn","menu":"fadeIn","logo":"fadeIn","post_block_else":"fadeIn","post_header":"fadeIn","post_body":"fadeIn","coll_header":"fadeIn","footer":"fadeIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>








  <title>ğŸš™ - ğŸ’¨ ğŸ’¨ ğŸ’¨</title>
  














</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <div class="container sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">ğŸš™</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">ğŸ’¨ ğŸ’¨ ğŸ’¨</p>
      
  </div>

  <div class="menu-item sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <div class="menu-item site-search">
    
  
  <div class="site-search-div">
    <button class="search-icon" id="search-button">
      <i class="fa fa-search"></i>
    </button>
    <input type="text" id="local-search-input" class="st-search-input">
    <i id="local-search-close">Ã—</i>
  </div>


<script type="text/javascript" id="local.search.active">
    {/* var inputArea       = document.querySelector("#local-search-input");
    inputArea.onclick   = function(){ getSearchFile(); this.focus(); }
    inputArea.onkeydown = function(){ if(event.keyCode == 13) return false } */}
</script>



  </div>
  <div id="local-search-result-pc" class="local-search-result-cls"></div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  
  

  
    <ul id="menu" class="menu menu-left">
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br>
            
            Categories
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br>
            
            About
          </a>
        </li>
      

       
    </ul>
  

  
    
  
</nav>



 </div>
    </header>

    <div id="local-search-result-mobile" class="local-search-result-cls"></div>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      
        

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://hulinhong.com/how_to_implement_a_slg_two/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Mike">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/uploads/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ğŸš™">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/how_to_implement_a_slg_two/" itemprop="url">å¿«é€Ÿå®Œæˆä¸€ä¸ªç®€æ˜“SLGæ¸¸æˆæ€è·¯äºŒ</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-07-30T22:57:29+00:00">
                07-30-2016
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/GS/" itemprop="url" rel="index">
                    <span itemprop="name">GS</span>
                  </a>
                </span>

                
                
              
            </span>
          

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    




    
    
    
    <div class="post-body" itemprop="articleBody">
      
      

      

      
      
        <div class="post-eof"></div>
      

      
      

      
        
          <h1 id="ChatServer"><a href="#ChatServer" class="headerlink" title="ChatServer"></a>ChatServer</h1><p>ä»ç™»å½•æˆåŠŸå°±å¼€å§‹è¿æ¥,<br>æ³¨å†Œä¸€ä¸ªChat_ID,<br>Player_ID å’Œ Chat_IDç›¸äº’å¯¹åº”,<br>ä¼šæ³¨å†Œç›¸åº”çš„æˆ¿é—´é¢‘é“,<br>å¹¶ä¸ºæ¯ä½ Player å­˜äº†ä¸€ä»½é»‘åå•,<br>åœ¨å®¢æˆ·ç«¯åšäº†æœ¬åœ°é»‘åå•,<br>èŠå¤©æœåŠ¡å™¨ä¹Ÿåšäº†é»‘åå•äºŒæ¬¡éªŒè¯å¤„ç†.</p>
<ul>
<li>ä¸–ç•Œé¢‘é“ : åˆ™ç”¨MsgServerçš„éå®æ—¶æ¨é€æ€è·¯</li>
<li>ç§å¯†èŠå¤© : åˆ™é€‰æ‹© WorkerMan çš„TCP, </li>
</ul>
<h1 id="MsgServer"><a href="#MsgServer" class="headerlink" title="MsgServer"></a>MsgServer</h1><ul>
<li>å®æ—¶æ¨é€ : WorkerMan çš„ TCP</li>
<li>éå®æ—¶æ¨é€ : å®¢æˆ·ç«¯å®šæ—¶15ç§’è½®è¯¢ä¸€ä¸‹æœåŠ¡å™¨ï¼Œå¦‚æœæœ‰æ¶ˆæ¯å°±å–ä¸‹æ¥ï¼Œå¦‚æœæ²¡æ¶ˆæ¯å¯ä»¥é€æ­¥æ”¾é•¿è½®è¯¢æ—¶é—´ï¼Œæ¯”å¦‚30ç§’ï¼›å¦‚æœæœ‰æ¶ˆæ¯ï¼Œå°±ç¼©çŸ­è½®è¯¢æ—¶é—´åˆ°10ç§’ï¼Œ5ç§’ï¼Œ</li>
</ul>
<p><strong>. . .</strong>
          <!--noindex-->
          
          <!--/noindex-->
        
      


      

    
      <footer class="post-footer">
        

        

        

        
        
          <div class="post-eof"></div>
        
      </footer>
      
    </p></div>
    
    
    

    

    

    

  </div>
  
  
  
  </article>


      
    
      
        

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://hulinhong.com/how_to_implement_a_slg_one/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Mike">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/uploads/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ğŸš™">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/how_to_implement_a_slg_one/" itemprop="url">å¿«é€Ÿå®Œæˆä¸€ä¸ªç®€æ˜“SLGæ¸¸æˆæ€è·¯ä¸€</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-07-30T22:19:29+00:00">
                07-30-2016
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/GS/" itemprop="url" rel="index">
                    <span itemprop="name">GS</span>
                  </a>
                </span>

                
                
              
            </span>
          

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    




    
    
    
    <div class="post-body" itemprop="articleBody">
      
      

      

      
      
        <div class="post-eof"></div>
      

      
      

      
        
          <h1 id="LoginServer-Gate"><a href="#LoginServer-Gate" class="headerlink" title="LoginServer(Gate)"></a>LoginServer(Gate)</h1><p>å½“å®Œæˆæ¸ é“SDKå›è°ƒéªŒè¯ä¹‹å,<br>éªŒè¯å®Œç©å®¶ä¿¡æ¯,<br>ç”¨äº†Nginxçš„è´Ÿè½½å‡è¡¡ç»™æ¯ä½ç©å®¶åˆ†é…ä¸€å°ä¸ç¹å¿™çš„æ¸¸æˆæœåŠ¡å™¨,<br>åœ¨Redisä¸­å­˜äº†ä¸€ä»½ç©å®¶åœ¨çº¿æœ‰æ•ˆæ—¶é—´key,<br>è¿™ä¸ªkeyä¹Ÿå¯ä»¥ç”¨æ¥å®Œæˆå°å·æ“ä½œ</p>
<h1 id="MainServer"><a href="#MainServer" class="headerlink" title="MainServer"></a>MainServer</h1><p>å› ä¸ºå¼±äº¤äº’/çŸ­è¿æ¥çš„å…³ç³»,<br>å¤§å¤šæ•°æƒ…å†µç©å®¶å’Œç©å®¶ä¹‹é—´ä¸éœ€è¦å®æ—¶é¢å¯¹é¢PKï¼Œ<br>æ‰“ä¸€ä¸‹å¯¹æ–¹çš„ç¦»çº¿æ•°æ®ï¼Œ<br>è®¡ç®—ä¸‹æ’è¡Œæ¦œï¼Œæ’è¡Œæ¦œæ˜¯å®æ—¶è®¡ç®—çš„,<br>å­˜åœ¨Redisé‡Œ, åšäº†åˆ†é¡µå¤„ç†<br>ä¹°å–ä¸‹é“å…·å³å¯.</p>
<p>æ‰€ä»¥ MainServer é€‰æ‹©äº†:</p>
<ul>
<li>yii</li>
<li>Redis</li>
<li>MySQL</li>
<li>Nginx</li>
</ul>
<p><strong>. . .</strong>
          <!--noindex-->
          
          <!--/noindex-->
        
      


      

    
      <footer class="post-footer">
        

        

        

        
        
          <div class="post-eof"></div>
        
      </footer>
      
    </p></div>
    
    
    

    

    

    

  </div>
  
  
  
  </article>


      
    
      
        

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://hulinhong.com/å¤šäººå¿«èŠ‚å¥æ¸¸æˆå››ä¹‹å»¶è¿Ÿè¡¥å¿å®ç°çˆ†å¤´/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Mike">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/uploads/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ğŸš™">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/å¤šäººå¿«èŠ‚å¥æ¸¸æˆå››ä¹‹å»¶è¿Ÿè¡¥å¿å®ç°çˆ†å¤´/" itemprop="url">å¤šäººå¿«èŠ‚å¥æ¸¸æˆå››ä¹‹å»¶è¿Ÿè¡¥å¿å®ç°çˆ†å¤´</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-07-19T22:20:34+00:00">
                07-19-2016
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/GS/" itemprop="url" rel="index">
                    <span itemprop="name">GS</span>
                  </a>
                </span>

                
                
              
            </span>
          

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    




    
    
    
    <div class="post-body" itemprop="articleBody">
      
      

      

      
      
        <div class="post-eof"></div>
      

      
      

      
        
          
            <p><a href="http://www.gabrielgambetta.com/lag-compensation.html" target="_blank" rel="noopener">åŸæ–‡å‡ºå¤„</a></p>
<h1 class="title">Fast-Paced Multiplayer (Part IV): Lag Compensation</h1>

<hr>
<p></p><h2 id="introduction">Introduction</h2><p></p>
<p>The previous three articles explained a client-server game architecture which can be summarized as follows:</p><br><ul><br><li><p>Server gets inputs from all the clients, with timestamps</p></li><br><li><p>Server processes inputs and updates world status</p></li><br><li><p>Server sends regular world snapshots to all clients</p></li><br><li><p>Client sends input and simulates their effects locally</p></li><br><li><p>Client get world updates and</p><br><ul><br><li><p>Syncs predicted state to authoritative state</p></li><br><li><p>Interpolates known past states for other entities</p></li><br></ul></li><br></ul><br><p>From a playerâ€™s point of view, this has two important consequences:</p><br><ul><br><li><p>Player sees <strong>himself</strong> in the <strong>present</strong></p></li><br><li><p>Player sees <strong>other entities</strong> in the <strong>past</strong></p></li><br></ul><br><p>This situation is generally fine, but itâ€™s quite problematic for very time- and space-sensitive events; for example, shooting your enemy in the head!</p><br><h2 id="lag-compensation">Lag Compensation</h2><br><p>So youâ€™re aiming perfectly at the targetâ€™s head with your sniper rifle. You shoot - itâ€™s a shot you canâ€™t miss.</p><br><p>But you miss.</p><br><p>Why does this happen?</p><br><p>Because of the client-server architecture explained before, you were aiming at where the enemyâ€™s head was 100ms <em>before</em> you shot - <em>not</em> when you shot!</p><br><p>In a way, itâ€™s like playing in an universe where the speed of light is really, really slow; youâ€™re aiming at the past position of your enemy, but heâ€™s long gone by the time you squeeze the trigger.</p><br><p>Fortunately, thereâ€™s a relatively simple solution for this, which is also pleasant for <em>most</em> players <em>most</em> of the time (with the one exception discussed below).</p><br><p>Hereâ€™s how it works:</p><br><ul><br><li><p>When you shoot, client sends this event to the server with full information: the exact timestamp of your shot, and the exact aim of the weapon.</p></li><br><li><p><strong>Hereâ€™s the crucial step</strong>. Since the server gets all the input with timestamps, it can authoritatively reconstruct the world at any instant in the past. In particular, it can reconstruct the world exactly as it looked like to any client at any point in time.</p></li><br><li><p>This means the server can know exactly what was on your weaponâ€™s sights the instant you shot. It was the <em>past</em> position of your enemyâ€™s head, but the server knows it was the position of his head in <em>your</em> present.</p></li><br><li><p>The server processes the shot <em>at that point in time</em>, and updates the clients.</p></li><br></ul><br><p>And everyone is happy!</p><br><p>The server is happy because heâ€™s the server. Heâ€™s always happy.</p><br><p>Youâ€™re happy because you were aiming at your enemyâ€™s head, shot, and got a rewarding headshot!</p><br><p>The enemy may be the only one not entirely happy. If he was standing still when he got shot, itâ€™s his fault, right? If he was movingâ€¦ wow, youâ€™re a really awesome sniper.</p><br><p>But what if he was in an open position, got behind a wall, and <em>then</em> got shot, a fraction of a second later, when he thought he was safe?</p><br><p>Well, that can happen. Thatâ€™s the tradeoff you make. Because you shoot at him in the past, he may still be shot up to a few milliseconds after he took cover.</p><br><p>It is somewhat unfair, but itâ€™s the most agreeable solution for everyone involved. It would be much worse to miss an unmissable shot!</p><br><h2 id="conclusion">Conclusion</h2><br><p>This ends my series on Fast-paced Multiplayer. This kind of thing is clearly tricky to get right, but with a clear conceptual understanding about whatâ€™s going on, itâ€™s not exceedingly difficult.</p><br><p>Although the audience of these articles were game developers, it found another group of interested readers: gamers! From a gamer point of view itâ€™s also interesting to understand why some things happen the way they happen.</p><br><h3 id="further-reading">Further Reading</h3><br><p>As clever as these techniques are, I canâ€™t claim any credit for them; these articles are just an easy to understand guide to some concepts Iâ€™ve learned from other sources, including articles and source code, and some experimentation.</p>
          
        
      


      

    
      <footer class="post-footer">
        

        

        

        
        
          <div class="post-eof"></div>
        
      </footer>
      
    </div>
    
    
    

    

    

    

  </div>
  
  
  
  </article>


      
    
      
        

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://hulinhong.com/å¤šäººå¿«èŠ‚å¥æ¸¸æˆä¸‰ä¹‹å®ä½“æ’å€¼/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Mike">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/uploads/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ğŸš™">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/å¤šäººå¿«èŠ‚å¥æ¸¸æˆä¸‰ä¹‹å®ä½“æ’å€¼/" itemprop="url">å¤šäººå¿«èŠ‚å¥æ¸¸æˆä¸‰ä¹‹å®ä½“æ’å€¼</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-07-18T22:20:34+00:00">
                07-18-2016
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/GS/" itemprop="url" rel="index">
                    <span itemprop="name">GS</span>
                  </a>
                </span>

                
                
              
            </span>
          

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    




    
    
    
    <div class="post-body" itemprop="articleBody">
      
      

      

      
      
        <div class="post-eof"></div>
      

      
      

      
        
          
            <p><a href="http://www.gabrielgambetta.com/entity-interpolation.html" target="_blank" rel="noopener">åŸæ–‡å‡ºå¤„</a></p>
<h1 class="title">Fast-Paced Multiplayer (Part III): Entity Interpolation</h1>

<hr>
<p></p><h2 id="introduction">Introduction</h2><p></p>
<p>In the <a href="client-server-game-architecture.html">first article</a> of the series, we introduced the concept of an <em>authoritative server</em> and its usefulness to prevent client cheats. However, using this technique naively can lead to potentially showstopper issues regarding playability and responsiveness. In the <a href="client-side-prediction-server-reconciliation.html">second article</a>, we proposed <em>client-side prediction</em> as a way to overcome these limitations.</p><br><p>The net result of these two articles is a set of concepts and techniques that allow a player to control an in-game character in a way that feels exactly like a single-player game, even when connected to an authoritative server through an internet connection with transmission delays.</p><br><p>In this article, weâ€™ll explore the consequences of having other player-controled characters connected to the same server.</p><br><h2 id="server-time-step">Server time step</h2><br><p>In the previous article, the behavior of the server we described was pretty simple â€“ it read client inputs, updated the game state, and sent it back to the client. When more than one client is connected, though, the main server loop is somewhat different.</p><br><p>In this scenario, several clients may be sending inputs simultaneously, and at a fast pace (as fast as the player can issue commands, be it pressing arrow keys, moving the mouse or clicking the screen). Updating the game world every time inputs are received from each client and then broadcasting the game state would consume too much CPU and bandwidth.</p><br><p>A better approach is to queue the client inputs as they are received, without any processing. Instead, the game world is updated periodically at low frequency, for example 10 times per second. The delay between every update, 100ms in this case, is called the<em>time step</em>. In every update loop iteration, all the unprocessed client input is applied (possibly in smaller time increments than the time step, to make physics more predictable), and the new game state is broadcast to the clients.</p><br><p>In summary, the game world updates independent of the presence and amount of client input, at a predictable rate.</p><br><h2 id="dealing-with-low-frequency-updates">Dealing with low-frequency updates</h2><br><p>From the point of view of a client, this approach works as smoothly as before â€“ client-side prediction works independently of the update delay, so it clearly also works under predictable, if relatively infrequent, state updates. However, since the game state is broadcast at a low frequency (continuing with the example, every 100ms), the client has very sparse information about the other entities that may be moving throughout the world.</p><br><p>A first implementation would update the position of other characters when it receives a state update; this immediately leads to very choppy movement, that is, discrete jumps every 100ms instead of smooth movement.</p><br><figure><br><img src="/img/fpm3-01.png" alt="Client 1 as seen by Client 2."><figcaption>Client 1 as seen by Client 2.</figcaption><br></figure><br><p>Depending on the type of game youâ€™re developing there are many ways to deal with this; in general, the more predictable your game entities are, the easier it is to get it right.</p><br><h2 id="dead-reckoning">Dead reckoning</h2><br><p>Suppose youâ€™re making a car racing game. A car that goes really fast is pretty predictable â€“ for example, if itâ€™s running at 100 meters per second, a second later it will be roughly 100 meters ahead of where it started.</p><br><p>Why â€œroughlyâ€? During that second the car could have accelerated or decelerated a bit, or turned to the right or to the left a bit â€“ the key word here is â€œa bitâ€. The maneuverability of a car is such that at high speeds its position at any point in time is highly dependent on its previous position, speed and direction, regardless of what the player actually does. In other words, a racing car canâ€™t do a 180Âº turn instantly.</p><br><p>How does this work with a server that sends updates every 100 ms? The client receives authoritative speed and heading for every competing car; for the next 100 ms it wonâ€™t receive any new information, but it still needs to show them running. The simplest thing to do is to assume the carâ€™s heading and acceleration will remain constant during that 100 ms, and run the car physics locally with that parameters. Then, 100 ms later, when the server update arrives, the carâ€™s position is corrected.</p><br><p>The correction can be big or relatively small depending on a lot of factors. If the player does keep the car on a straight line and doesnâ€™t change the car speed, the predicted position will be exactly like the corrected position. On the other hand, if the player crashes against something, the predicted position will be extremely wrong.</p><br><p>Note that dead reckoning can be applied to low-speed situations â€“ battleships, for example. In fact, the term â€œdead reckoningâ€ has its origins in marine navigation.</p><br><h2 id="entity-interpolation">Entity interpolation</h2><br><p>There are some situations where dead reckoning canâ€™t be applied at all â€“ in particular, all scenarios where the playerâ€™s direction and speed can change instantly. For example, in a 3D shooter, players usually run, stop, and turn corners at very high speeds, making dead reckoning essentially useless, as positions and speeds can no longer be predicted from previous data.</p><br><p>You canâ€™t just update player positions when the server sends authoritative data; youâ€™d get players who teleport short distances every 100 ms, making the game unplayable.</p><br><p>What you do have is authoritative position data every 100 ms; the trick is how to show the player what happens inbetween. The key to the solution is to show the other players <em>in the past</em> relative to the userâ€™s player.</p><br><p>Say you receive position data at <strong>t = 1000</strong>. You already had received data at <strong>t = 900</strong>, so you know where the player was at <strong>t = 900</strong> and <strong>t = 1000</strong>. So, from <strong>t = 1000</strong> and <strong>t = 1100</strong>, you show what the other player did from <strong>t = 900</strong> to <strong>t = 1000</strong>. This way youâ€™re always showing the user <em>actual movement data</em>, except youâ€™re showing it 100 ms â€œlateâ€.</p><br><figure><br><img src="/img/fpm3-02.png" alt="Client 2 renders Client 1 in the past, interpolating last known positions."><figcaption>Client 2 renders Client 1 â€œin the pastâ€, interpolating last known positions.</figcaption><br></figure><br><p>The position data you use to interpolate from <strong>t = 900</strong> to <strong>t = 1000</strong> depends on the game. Interpolation usually works well enough. If it doesnâ€™t, you can have the server send more detailed movement data with each update â€“ for example, a sequence of straight segments followed by the player, or positions sampled every 10 ms which look better when interpolated (you donâ€™t need to send 10 times more data â€“ since youâ€™re sending deltas for small movements, the format on the wire can be heavily optimized for this particular case).</p><br><p>Note that using this technique, every player sees a slightly different rendering of the game world, because each player sees itself <em>in the present</em> but sees the other entities <em>in the past</em>. Even for a fast paced game, however, seeing other entities with a 100 ms isnâ€™t generally noticeable.</p><br><p>There are exceptions â€“ when you need a lot of spatial and temporal accuracy, such as when the player shoots at another player. Since the other players are seen in the past, youâ€™re aiming with a 100 ms delay â€“ that is, youâ€™re shooting where your target was 100 ms ago! Weâ€™ll deal with this in the next article.</p><br><h2 id="summary">Summary</h2><br><p>In a client-server environment with an authoritative server, infrequent updates and network delay, you must still give players the illusion of continuity and smooth movement. In <a href="client-side-prediction-server-reconciliation.html">part 2 of the series</a> we explored a way to show the user controlled playerâ€™s movement in real time using client-side prediction and server reconciliation; this ensures user input has an immediate effect on the local player, removing a delay that would render the game unplayable.</p><br><p>Other entities are still a problem, however. In this article we explored two ways of dealing with them.</p><br><p>The first one, <em>dead reckoning</em>, applies to certain kinds of simulations where entity position can be acceptably estimated from previous entity data such as position, speed and acceleration. This approach fails when these conditions arenâ€™t met.</p><br><p>The second one, <em>entity interpolation</em>, doesnâ€™t predict future positions at all â€“ it uses only real entity data provided by the server, thus showing the other entities slightly delayed in time.</p><br><p>The net effect is that the userâ€™s player is seen <em>in the present</em> and the other entities are seen <em>in the past</em>. This usually creates an incredibly seamless experience.</p><br><p>However, if nothing else is done, the illusion breaks down when an event needs high spatial and temporal accuracy, such as shooting at a moving target: the position where Client 2 renders Client 1 doesnâ€™t match the serverâ€™s nor Client 1â€²s position, so headshots become impossible! Since no game is complete without headshots, weâ€™ll deal with this issue in the next article.</p>
          
        
      


      

    
      <footer class="post-footer">
        

        

        

        
        
          <div class="post-eof"></div>
        
      </footer>
      
    </div>
    
    
    

    

    

    

  </div>
  
  
  
  </article>


      
    
      
        

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://hulinhong.com/å¤šäººå¿«èŠ‚å¥æ¸¸æˆäºŒä¹‹å®¢æˆ·ç«¯é¢„æµ‹ä¸æœåŠ¡å™¨ä¿®æ­£/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Mike">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/uploads/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ğŸš™">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/å¤šäººå¿«èŠ‚å¥æ¸¸æˆäºŒä¹‹å®¢æˆ·ç«¯é¢„æµ‹ä¸æœåŠ¡å™¨ä¿®æ­£/" itemprop="url">å¤šäººå¿«èŠ‚å¥æ¸¸æˆäºŒä¹‹å®¢æˆ·ç«¯é¢„æµ‹ä¸æœåŠ¡å™¨ä¿®æ­£</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-07-17T22:20:34+00:00">
                07-17-2016
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/GS/" itemprop="url" rel="index">
                    <span itemprop="name">GS</span>
                  </a>
                </span>

                
                
              
            </span>
          

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    




    
    
    
    <div class="post-body" itemprop="articleBody">
      
      

      

      
      
        <div class="post-eof"></div>
      

      
      

      
        
          
            <p><a href="http://www.gabrielgambetta.com/client-side-prediction-server-reconciliation.html" target="_blank" rel="noopener">åŸæ–‡å‡ºå¤„</a></p>
<h1 class="title">Fast-Paced Multiplayer (Part II): Client-Side Prediction and Server Reconciliation</h1>

<hr>
<p></p><h2 id="introduction">Introduction</h2><p></p>
<p>In the <a href="client-server-game-architecture.html">first article</a> of this series, we explored a client-server model with an authoritative server and dumb clients that just send inputs to the server and then render the updated game state when the server sends it.</p><br><p>A naive implementation of this scheme leads to a delay between user commands and changes on the screen; for example, the player presses the right arrow key, and the character takes half a second before it starts moving. This is because the client input must first travel to the server, the server must process the input and calculate a new game state, and the updated game state must reach the client again.</p><br><figure><br><img src="/img/fpm2-01.png" alt="Effect of network delays."><figcaption>Effect of network delays.</figcaption><br></figure><br><p>In a networked environment such as the internet, where delays can be in the orders of tenths of a second, a game may feel unresponsive at best, or in the worst case, be rendered unplayable. In this article, weâ€™ll find ways to minimize or even eliminate that problem.</p><br><h2 id="client-side-prediction">Client-side prediction</h2><br><p>Even though there are some cheating players, most of the time the game server is processing valid requests (from non-cheating clients and from cheating clients who arenâ€™t cheating at that particular time). This means most of the input received will be valid and will update the game state as expected; that is, if your character is at (10, 10) and the right arrow key is pressed, it will end up at (11, 10).</p><br><p>We can use this to our advantage. If the game world is <em>deterministic</em> enough (that is, given a game state and a set of inputs, the result is completely predictable),</p><br><p>Letâ€™s suppose we have a 100 ms lag, and the animation of the character moving from one square to the next takes 100 ms. Using the naive implementation, the whole action would take 200 ms:</p><br><figure><br><img src="/img/fpm2-02.png" alt="Network delay + animation."><figcaption>Network delay + animation.</figcaption><br></figure><br><p>Since the world is deterministic, we can assume the inputs we send to the server will be executed successfully. Under this assumption, the client can predict the state of the game world after the inputs are processed, and most of the time this will be correct.</p><br><p>Instead of sending the inputs and waiting for the new game state to start rendering it, we can send the input and start rendering the outcome of that inputs as if they had succeded, while we wait for the server to send the â€œtrueâ€ game state â€“ which more often than not, will match the state calculated locally :</p><br><figure><br><img src="/img/fpm2-03.png" alt="Animation plays while the server confirms the action."><figcaption>Animation plays while the server confirms the action.</figcaption><br></figure><br><p>Now thereâ€™s absolutely no delay between the playerâ€™s actions and the results on the screen, while the server is still authoritative (if a hacked client would send invalid inputs, it could render whatever it wanted on the screen, but it wouldnâ€™t affect the state of the server, which is what the other players see).</p><br><h2 id="synchronization-issues">Synchronization issues</h2><br><p>In the example above, I chose the numbers carefully to make everything work fine. However, consider a slightly modified scenario: letâ€™s say we have a 250 ms lag to the server, and moving from a square to the next takes 100 ms. Letâ€™s also say the player presses the right key 2 times in a row, trying to move 2 squares to the right.</p><br><p>Using the techniques so far, this is what would happen:</p><br><figure><br><img src="/img/fpm2-04.png" alt="Predicted state and authoritative state mismatch."><figcaption>Predicted state and authoritative state mismatch.</figcaption><br></figure><br><p>We run into an interesting problem at <strong>t = 250 ms</strong>, when the new game state arrives. The predicted state at the client is <strong>x = 12</strong>, but the server says the new game state is <strong>x = 11</strong>. Because the server is authoritative, the client must move the character back to <strong>x = 11</strong>. But then, a new server state arrives at <strong>t = 350</strong>, which says <strong>x = 12</strong>, so the character jumps again, forward this time.</p><br><p>From the point of view of the player, he pressed the right arrow key twice; the character moved two squares to the right, stood there for 50 ms, jumped one square to the left, stood there for 100 ms, and jumped one square to the right. This, of course, is unacceptable.</p><br><h2 id="server-reconciliation">Server reconciliation</h2><br><p>The key to fix this problem is to realize that the client sees the game world <em>in present time</em>, but because of lag, the updates it gets from the server are actually the state of the game <em>in the past</em>. By the time the server sent the updated game state, it hadnâ€™t processed all the commands sent by the client.</p><br><p>This isnâ€™t terribly difficult to work around, though. First, the client adds a sequence number to each request; in our example, the first key press is request #1, and the second key press is request #2. Then, when the server replies, it includes the sequence number of the last input it processed:</p><br><figure><br><img src="/img/fpm2-05.png" alt="Client-side prediction + server reconciliation."><figcaption>Client-side prediction + server reconciliation.</figcaption><br></figure><br><figure><br><img src="/img/fpm2-06.png" alt="æˆ–è®¸è¿™å¹…å›¾æ›´åŠ è§£é‡Šå¾—æ¸…æ¥šäº›"><figcaption>æˆ–è®¸è¿™å¹…å›¾æ›´åŠ è§£é‡Šå¾—æ¸…æ¥šäº›</figcaption><br></figure><br><p>Now, at <strong>t = 250</strong>, the server says â€œ<strong>based on what Iâ€™ve seen up to your request #1, your position is x = 11</strong>â€. Because the server is authoritative, it sets the character position at <strong>x = 11</strong>. Now letâ€™s assume the client keeps a copy of the requests it sends to the server. Based on the new game state, it knows the server has already processed request #1, so it can discard that copy. But it also knows the server still has to send back the result of processing request #2. So applying client-side prediction again, the client can calculate the â€œpresentâ€ state of the game based on the last authoritative state sent by the server, plus the inputs the server hasnâ€™t processed yet.</p><br><p>So, at <strong>t = 250</strong>, the client gets â€œ<strong>x = 11, last processed request = #1</strong>â€. It discards its copies of sent input up to #1 â€“ but it retains a copy of #2, which hasnâ€™t been acknowledged by the server. It updates it internal game state with what the server sent, <strong>x = 11</strong>, and then applies all the input still not seen by the server â€“ in this case, input #2, â€œmove to the rightâ€. The end result is <strong>x = 12</strong>, which is correct.</p><br><p>Continuing with our example, at <strong>t = 350</strong> a new game state arrives from the server; this time it says â€œ<strong>x = 12, last processed request = #2</strong>â€. At this point, the client discards all input up to #2, and updates the state with <strong>x = 12</strong>. Thereâ€™s no unprocessed input to replay, so processing ends there, with the correct result.</p><br><h2 id="odds-and-ends">Odds and ends</h2><br><p>The example discussed above implies movement, but the same principle can be applied to almost anything else. For example, in a turn-based combat game, when the player attacks another character, you can show blood and a number representing the damage done, but you shouldnâ€™t actually update the health of the character until the server says so.</p><br><p>Because of the complexities of game state, which isnâ€™t always easily reversible, you may want to avoid killing a character until the server says so, even if its health dropped below zero in the clientâ€™s game state (what if the other character used a first-aid kit just before receiving your deadly attack, but the server hasnâ€™t told you yet?)</p><br><p>This brings us to an interesting point â€“ even if the world is completely deterministic and no clients cheat at all, itâ€™s still possible that the state predicted by the client and the state sent by the server donâ€™t match after a reconciliation. The scenario is impossible as described above with a single player, but itâ€™s easy to run into when several players are connected to the server at once. This will be the topic of the next article.</p><br><h3 id="summary">Summary</h3><br><p>When using an authoritative server, you need to give the player the illusion of responsiveness, while you wait for the server to actually process your inputs. To do this, the client simulates the results of the inputs. When the updated server state arrives, the predicted client state is recomputed from the updated state and the inputs the client sent but the server hasnâ€™t acknowledged yet.</p>
          
        
      


      

    
      <footer class="post-footer">
        

        

        

        
        
          <div class="post-eof"></div>
        
      </footer>
      
    </div>
    
    
    

    

    

    

  </div>
  
  
  
  </article>


      
    
      
        

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://hulinhong.com/å¤šäººå¿«èŠ‚å¥æ¸¸æˆä¸€ä¹‹CSæ¸¸æˆæ¶æ„/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Mike">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/uploads/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ğŸš™">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/å¤šäººå¿«èŠ‚å¥æ¸¸æˆä¸€ä¹‹CSæ¸¸æˆæ¶æ„/" itemprop="url">å¤šäººå¿«èŠ‚å¥æ¸¸æˆä¸€ä¹‹C/Sæ¸¸æˆæ¶æ„</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-07-16T22:20:34+00:00">
                07-16-2016
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/GS/" itemprop="url" rel="index">
                    <span itemprop="name">GS</span>
                  </a>
                </span>

                
                
              
            </span>
          

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    




    
    
    
    <div class="post-body" itemprop="articleBody">
      
      

      

      
      
        <div class="post-eof"></div>
      

      
      

      
        
          
            <p><a href="http://www.gabrielgambetta.com/client-server-game-architecture.html" target="_blank" rel="noopener">åŸæ–‡å‡ºå¤„</a></p>
<h1 class="title">Fast-Paced Multiplayer (Part I): Client-Server Game Architecture</h1>

<hr>
<p></p><h2 id="introduction">Introduction</h2><p></p>
<p>This is the first in a series of articles exploring the techniques and algorithms that make fast-paced multiplayer games possible. If youâ€™re familiar with the concepts behind multiplayer games, you can safely skip to the next article â€“ what follows is an introductory discussion.</p><br><p>Developing any kind of game is itself challenging; multiplayer games, however, add a completely new set of problems to be dealt with. Interestingly enough, the core problems are human nature and physics!</p><br><h2 id="the-problem-of-cheating">The problem of cheating</h2><br><p>It all starts with cheating.</p><br><p>As a game developer, you usually donâ€™t care whether a player cheats in your single-player game â€“ his actions donâ€™t affect anyone but him. A cheating player may not experience the game exactly as you planned, but since itâ€™s their game, they have the right to play it in any way they please.</p><br><p>Multiplayer games are different, though. In any competitive game, a cheating player isnâ€™t just making the experience better for himself, heâ€™s also making the experience worse for the other players. As the developer, you probably want to avoid that, since it tends to drive players away from your game.</p><br><p>There are many things that can be done to prevent cheating, but the most important one (and probably the only really meaningful one) is simple : <em>donâ€™t trust the player</em>. Always assume the worst â€“ that players <em>will</em> try to cheat.</p><br><h2 id="authoritative-servers-and-dumb-clients">Authoritative servers and dumb clients</h2><br><p>This leads to a seemingly simple solution â€“ you make everything in your game happen in a central server under your control, and make the clients just privileged spectators of the game. In other words, your game client sends inputs (key presses, commands) to the server, the server runs the game, and you send the results back to the clients. This is usually called using an <em>authoritative server</em>, because the one and only authority regarding everything that happens in the world is the server.</p><br><p>Of course, your server can be exploited for vulnerabilities, but thatâ€™s out of the scope of this series of articles. Using an authoritative server does prevent a wide range of hacks, though. For example, you donâ€™t trust the client with the health of the player; a hacked client can modify its local copy of that value and tell the player it has 10000% health, but the server <em>knows</em> it only has 10% â€“ when the player is attacked it will die, regardless of what a hacked client may think.</p><br><p>You also donâ€™t trust the player with its position in the world. If you did, a hacked client would tell the server â€œ<strong>Iâ€™m at (10,10)</strong>â€ and a second later â€œ<strong>Iâ€™m at (20,10)</strong>â€, possibly going through a wall or moving faster than the other players. Instead, the server <em>knows</em> the player is at (10,10), the client tells the server â€œ<strong>I want to move one square to the right</strong>â€, the server updates its internal state with the new player position at (11,10), and then replies to the player â€œ<strong>Youâ€™re at (11, 10)</strong>â€:</p><br><figure><br><img src="/img/fpm1-01.png" alt="Effect of network delays."><figcaption>Effect of network delays.</figcaption><br></figure><br><p>In summary: the game state is managed by the server alone. Clients send their actions to the server. The server updates the game state periodically, and then sends the new game state back to clients, who just render it on the screen.</p><br><h2 id="dealing-with-networks">Dealing with networks</h2><br><p>The dumb client scheme works fine for slow turn based games, for example strategy games or poker. It would also work in a LAN setting, where communications are, for all practical purposes, instantaneous. But this breaks down when used for a fast-paced game over a network such as the internet.</p><br><p>Letâ€™s talk physics. Suppose youâ€™re in San Francisco, connected to a server in the NY. Thatâ€™s approximately 4,000 km, or 2,500 miles (thatâ€™s roughly the distance between Lisbon and Moscow). Nothing can travel faster than light, not even bytes on the Internet (which at the lower level are pulses of light, electrons in a cable, or electromagnetic waves). Light travels at approximately 300,000 km/s, so it takes 13 ms to travel 4,000 km.</p><br><p>This may sound quite fast, but itâ€™s actually a very optimistic setup â€“ it assumes data travels at the speed of light in a straight path, with is most likely not the case. In real life, data goes through a series of jumps (called <em>hops</em> in networking terminology) from router to router, most of which arenâ€™t done at lightspeed; routers themselve introduce a bit of delay, since packets must be copied, inspected, and rerouted.</p><br><p>For the sake of the argument, letâ€™s assume data takes 50 ms from client to server. This is close to a best-case scenario â€“ what happens if youâ€™re in NY connected to a server in Tokyo? What if thereâ€™s network congestion for some reason? Delays of 100, 200, even 500 ms are not unheard of.</p><br><p>Back to our example, your client sends some input to the server (â€œ<strong>I pressed the right arrow</strong>â€). The server gets it 50 ms later. Letâ€™s say the server processes the request and sends back the updated state immediately. Your client gets the new game state (â€œ<strong>Youâ€™re now at (1, 0)</strong>â€) 50 ms later.</p><br><p>From your point of view, what happened is that you pressed the right arrow but nothing happened for a tenth of a second; then your character finally moved one square to the right. This perceived <em>lag</em> between your inputs and its consequences may not sound like much, but itâ€™s noticeable â€“ and of course, a lag of half a second isnâ€™t just noticeable, it actually makes the game unplayable.</p><br><h2 id="summary">Summary</h2><br><p>Networked multiplayer games are incredibly fun, but introduce a whole new class of challenges. The authoritative server architecture is pretty good at stopping most cheats, but a straightforward implementation may make games quite unresponsive to the player.</p><br><p>In the following articles, weâ€™ll explore how can we build a system based on an authoritative server, while minimizing the delay experienced by the players, to the point of making it almost indistinguishable from local or single player games.</p>
          
        
      


      

    
      <footer class="post-footer">
        

        

        

        
        
          <div class="post-eof"></div>
        
      </footer>
      
    </div>
    
    
    

    

    

    

  </div>
  
  
  
  </article>


      
    
      
        

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://hulinhong.com/æ¸¸æˆæœåŠ¡ç«¯å¸¸ç”¨æ¶æ„ä¸‰/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Mike">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/uploads/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ğŸš™">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/æ¸¸æˆæœåŠ¡ç«¯å¸¸ç”¨æ¶æ„ä¸‰/" itemprop="url">æ¸¸æˆæœåŠ¡ç«¯å¸¸ç”¨æ¶æ„ä¸‰</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-07-11T19:24:44+00:00">
                07-11-2016
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/GS/" itemprop="url" rel="index">
                    <span itemprop="name">GS</span>
                  </a>
                </span>

                
                
              
            </span>
          

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    




    
    
    
    <div class="post-body" itemprop="articleBody">
      
      

      

      
      
        <div class="post-eof"></div>
      

      
      

      
        
          <h2 id="ä¼‘é—²æ¸¸æˆæœåŠ¡å™¨"><a href="#ä¼‘é—²æ¸¸æˆæœåŠ¡å™¨" class="headerlink" title="ä¼‘é—²æ¸¸æˆæœåŠ¡å™¨"></a>ä¼‘é—²æ¸¸æˆæœåŠ¡å™¨</h2><p>ä¼‘é—²æ¸¸æˆåŒæˆ˜ç½‘æœåŠ¡å™¨ç±»ä¼¼ï¼Œéƒ½æ˜¯å…¨åŒºæ¶æ„ï¼Œä¸åŒçš„æ˜¯æœ‰æˆ¿é—´æœåŠ¡å™¨ï¼Œè¿˜æœ‰å…·ä½“çš„æ¸¸æˆæœåŠ¡å™¨ï¼Œæ¸¸æˆä¸»ä½“ä¸å†ä»¥ç©å®¶ P2Pè¿›è¡Œï¼Œè€Œæ˜¯è¿æ¥åˆ°ä¸“é—¨çš„æ¸¸æˆæœåŠ¡å™¨å¤„ç†ï¼š</p>
 <img src="/æ¸¸æˆæœåŠ¡ç«¯å¸¸ç”¨æ¶æ„ä¸‰/image014.png">
<p>å’Œæˆ˜ç½‘ä¸€æ ·çš„å…¨åŒºæ¶æ„ï¼Œç”¨æˆ·æ•°æ®ä¸èƒ½è±¡åˆ†åŒºçš„ RPGé‚£æ ·ä¸€æ¬¡æ€§loadåˆ°å†…å­˜ï¼Œç„¶ååœ¨å†…å­˜é‡Œé¢ç›´æ¥ä¿®æ”¹ã€‚å…¨åŒºæ¶æ„ä¸‹ï¼Œä¸ºäº†åº”å¯¹ä¸€ä¸ªç”¨æˆ·åŒæ—¶ç©å‡ ä¸ªæ¸¸æˆï¼Œç”¨æˆ·æ•°æ®éœ€è¦åŒºåˆ†åŸºæœ¬æ•°æ®å’Œä¸åŒçš„æ¸¸æˆæ•°æ®ï¼Œè€Œæ¸¸æˆæ•°æ®åˆéœ€è¦åŒºåˆ†ç§¯åˆ†æ•°æ®ã€å’Œæ–‡æ¡£æ•°æ®ã€‚èƒœå¹³è´Ÿä¹‹ç±»çš„ç§¯åˆ†å¯ä»¥ç›´æ¥æäº¤å¢é‡ä¿®æ”¹ï¼Œè€Œæ›´ä¸ºæ™®éçš„æ–‡æ¡£ç±»æ•°æ®åˆ™éœ€è¦æä¾›è¯»å†™ä»¤ç‰Œï¼Œå†™ä»¤ç‰Œåªæœ‰ä¸€å—ï¼Œè¯»ä»¤ç‰Œæœ‰å¾ˆå¤šå—ã€‚åŒå¸å·åŒä¸€ä¸ªæ¸¸æˆåŒæ—¶åœ¨ä¸¤å°ç”µè„‘ä¸Šç©æ—¶ï¼Œæœ€å…ˆå¼€å§‹çš„é‚£ä¸ªæ¸¸æˆè·å¾—å†™ä»¤ç‰Œï¼Œå¯ä»¥æ“ä½œä»»æ„çš„ç”¨æˆ·æ•°æ®ã€‚è€Œåå¼€å§‹çš„é‚£ä¸ªæ¸¸æˆé™¤äº†å¯ä»¥æäº¤èƒœå¹³è´Ÿç§¯åˆ†çš„å¢é‡æ”¹å˜å¤–ï¼Œå¯¹ç”¨æˆ·æ•°æ®é‡‡ç”¨åªè¯»çš„æ–¹å¼ï¼Œä¿è¯æ¸¸æˆèƒ½è¿è¡Œä¸‹å»ï¼Œä½†æ˜¯ä¼šæç¤ºç”¨æˆ·ï¼Œæ¸¸æˆæ•°æ®é”å®šã€‚</p>
<p><strong>. . .</strong>
          <!--noindex-->
          
          <!--/noindex-->
        
      


      

    
      <footer class="post-footer">
        

        

        

        
        
          <div class="post-eof"></div>
        
      </footer>
      
    </p></div>
    
    
    

    

    

    

  </div>
  
  
  
  </article>


      
    
      
        

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://hulinhong.com/æ¸¸æˆæœåŠ¡ç«¯å¸¸ç”¨æ¶æ„äºŒ/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Mike">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/uploads/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ğŸš™">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/æ¸¸æˆæœåŠ¡ç«¯å¸¸ç”¨æ¶æ„äºŒ/" itemprop="url">æ¸¸æˆæœåŠ¡ç«¯å¸¸ç”¨æ¶æ„äºŒ</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-07-11T15:27:44+00:00">
                07-11-2016
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/GS/" itemprop="url" rel="index">
                    <span itemprop="name">GS</span>
                  </a>
                </span>

                
                
              
            </span>
          

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    




    
    
    
    <div class="post-body" itemprop="articleBody">
      
      

      

      
      
        <div class="post-eof"></div>
      

      
      

      
        
          <h2 id="ç¬¬ä¸‰ä»£æ¸¸æˆæœåŠ¡å™¨-2007"><a href="#ç¬¬ä¸‰ä»£æ¸¸æˆæœåŠ¡å™¨-2007" class="headerlink" title="ç¬¬ä¸‰ä»£æ¸¸æˆæœåŠ¡å™¨ 2007"></a>ç¬¬ä¸‰ä»£æ¸¸æˆæœåŠ¡å™¨ 2007</h2><p>ä»é­”å…½ä¸–ç•Œå¼€å§‹æ— ç¼ä¸–ç•Œåœ°å›¾å·²ç»æ·±å…¥äººå¿ƒï¼Œæ¯”è¾ƒä»¥å¾€æ¸¸æˆç©å®¶èµ°ä¸ªå‡ æ­¥è¿˜éœ€è¦åˆ‡æ¢åœºæ™¯ï¼Œæ¯æ¬¡åˆ‡æ¢å°±è¦ç­‰å¾… LOADINGä¸ªå‡ åç§’æ˜¯ä¸€ä»¶ååˆ†ç ´åæ¸¸æˆä½“éªŒçš„äº‹æƒ…ã€‚äºæ˜¯å¯¹äº 2005å¹´ä»¥åçš„å¤§å‹ MMORPGæ¥è¯´ï¼Œæ— ç¼åœ°å›¾å·²æˆä¸ºä¸€ä¸ªæ ‡å‡†é…ç½®ã€‚æ¯”è¾ƒä»¥å¾€æŒ‰ç…§åœ°å›¾æ¥åˆ‡å‰²æ¸¸æˆè€Œè¨€ï¼Œæ— ç¼ä¸–ç•Œå¹¶ä¸å­˜åœ¨ä¸€å—åœ°å›¾ä¸Šé¢çš„äººæœ‰ä¸”åªç”±ä¸€å°æœåŠ¡å™¨å¤„ç†äº†ï¼š</p>
 <img src="/æ¸¸æˆæœåŠ¡ç«¯å¸¸ç”¨æ¶æ„äºŒ/image008.png">
<p>æ¯å° NodeæœåŠ¡å™¨ç”¨æ¥ç®¡ç†ä¸€å—åœ°å›¾åŒºåŸŸï¼Œç”± NodeMasterï¼ˆNMï¼‰æ¥ä¸ºä»–ä»¬æä¾›æ€»ä½“ç®¡ç†ã€‚æ›´é«˜å±‚æ¬¡çš„ Worldåˆ™æä¾›å¤§é™†çº§åˆ«çš„ç®¡ç†æœåŠ¡ã€‚è¿™é‡Œçœç•¥è‹¥å¹²ç»†èŠ‚æœåŠ¡å™¨ï¼Œæ¯”å¦‚ä¼ ç»Ÿæ•°æ®åº“å‰ç«¯ï¼Œç™»å½•æœåŠ¡å™¨ï¼Œæ—¥å¿—å’Œç›‘æ§ç­‰ï¼Œç»Ÿç»Ÿç”¨ ADMINæ¦‚æ‹¬ã€‚åœ¨è¿™æ ·çš„ç»“æ„ä¸‹ï¼Œç©å®¶ä»ä¸€å—åŒºåŸŸèµ°å‘å¦å¤–ä¸€å—åŒºåŸŸéœ€è¦ç®€å•å¤„ç†ä¸€ä¸‹ï¼š</p>
 <img src="/æ¸¸æˆæœåŠ¡ç«¯å¸¸ç”¨æ¶æ„äºŒ/image009.png">
<p>ç©å®¶1å®Œå…¨ç”±èŠ‚ç‚¹Aæ§åˆ¶ï¼Œç©å®¶3å®Œå…¨ç”±èŠ‚ç‚¹Bæ§åˆ¶ã€‚è€Œå¤„åœ¨ä¸¤ä¸ªèŠ‚ç‚¹è¾¹ç¼˜çš„2å·ç©å®¶ï¼Œåˆ™åŒæ—¶ç”±Aå’ŒBæä¾›æœåŠ¡ã€‚ç©å®¶2ä»Aç§»åŠ¨åˆ°Bçš„è¿‡ç¨‹ä¸­ï¼Œä¼šåŒæ—¶å‘Aè¯·æ±‚å·¦è¾¹çš„æƒ…å†µï¼Œå¹¶å‘Bè¯·æ±‚å³è¾¹çš„æƒ…å†µã€‚ä½†æ˜¯æ­¤æ—¶ç©å®¶2è¿˜æ˜¯å±äºAç®¡ç†ã€‚ç›´åˆ°ç©å®¶2å½»åº•ç¦»å¼€ABè¾¹ç•Œå¾ˆè¿œï¼Œæ‰å½»åº•äº¤ç”±Bç®¡ç†ã€‚æŒ‰ç…§è¿™æ ·çš„é€»è¾‘å°†ä¸–ç•Œåœ°å›¾åˆ†å‰²ä¸ºä¸€å—ä¸€å—çš„åŒºåŸŸï¼Œäº¤ç”±ä¸åŒçš„ Nodeå»ç®¡ç†ã€‚</p>
<p>å¯¹äºä¸€ä¸ª Nodeæ‰€è´Ÿè´£çš„åŒºåŸŸï¼Œåœ°ç†ä¸Šæ²¡å¿…è¦è¿æ¥åœ¨ä¸€èµ·ï¼Œæ¯”å¦‚å¤§é™†çš„å››å‘¨è¾¹ç¼˜éƒ¨åˆ†å’Œé«˜å±±éƒ¨åˆ†çš„åŒºå—äººæ¯”è¾ƒå°‘ï¼Œå¯ä»¥ç»Ÿä¸€äº¤ç»™ä¸€ä¸ªNodeå»ç®¡ç†ï¼Œè€Œè¿™äº›åŒºå—åœ¨åœ°ç†ä¸Šå¹¶æ²¡æœ‰è”ç³»åœ¨ä¸€èµ·çš„å¿…è¦æ€§ã€‚ä¸€ä¸ª Nodeåˆ°åº•ç®¡ç†å“ªäº›åŒºå—ï¼Œå¯ä»¥æ ¹æ®æ¸¸æˆå®æ—¶è¿è¡Œçš„è´Ÿè½½æƒ…å†µï¼Œå®šæ—¶ç»´æŠ¤çš„æ—¶å€™è¿›è¡Œæ›´æ”¹ NodeMaster ä¸Šé¢çš„é…ç½®ã€‚</p>
<p>äºæ˜¯ç¢°åˆ°ç¬¬ä¸€ä¸ªé—®é¢˜æ˜¯å¾ˆå¤š NodeæœåŠ¡å™¨éœ€è¦å’Œç©å®¶è¿›è¡Œé€šä¿¡ï¼Œéœ€è¦é—®ç®¡ç†æœåŠ¡å™¨ç‰¹å®šUIDä¸ºå¤šå°‘çš„ç©å®¶åˆ°åº•åœ¨å“ªå° Gateä¸Šï¼Œä»¥å‰æŒ‰åœºæ™¯åˆ‡å‰²çš„æœåŠ¡å™¨è¿™ä¸ªé—®é¢˜ä¸å¤§ï¼Œé—®äº†ä¸€æ¬¡ä»¥åå°±å¯ä»¥ç¼“å­˜èµ·æ¥äº†ï¼Œä½†æ˜¯ç°åœ¨æœåŠ¡å™¨ç§ç±»å¢åŠ ä¸å°‘ï¼Œç©å®¶åˆä¼šé£˜æ¥é£˜å»ï¼ŒæŒ‰UIDæŸ¥æ‰¾ç©å®¶æ¯”è¾ƒéº»çƒ¦ï¼›å¦å¤–ä¸€æ–¹é¢ GATEéœ€è¦åŠ¨æ€æ ¹æ®åæ ‡è®¡ç®—å’Œå“ªäº› Nodeé€šä¿¡ï¼Œå¯¼è‡´é€»è¾‘è¶Šæ¥è¶Šåšï¼Œäºæ˜¯æŠŠï¼šâ€œç”¨æˆ·å¯¹è±¡â€ä»è´Ÿè´£è¿æ¥ç®¡ç†çš„ GATEä¸­åˆ‡å‰²å‡ºæ¥åŠ¿åœ¨å¿…è¡Œäºæ˜¯æœ‰äº†ä¸‹é¢çš„æ¨¡å‹ï¼š</p>
 <img src="/æ¸¸æˆæœåŠ¡ç«¯å¸¸ç”¨æ¶æ„äºŒ/image010.png">
<p><strong>. . .</strong>
          <!--noindex-->
          
          <!--/noindex-->
        
      


      

    
      <footer class="post-footer">
        

        

        

        
        
          <div class="post-eof"></div>
        
      </footer>
      
    </p></div>
    
    
    

    

    

    

  </div>
  
  
  
  </article>


      
    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/23/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/14/">14</a><a class="page-number" href="/page/15/">15</a><a class="page-number" href="/page/16/">16</a><a class="page-number" href="/page/17/">17</a><a class="page-number" href="/page/18/">18</a><a class="page-number" href="/page/19/">19</a><a class="page-number" href="/page/20/">20</a><a class="page-number" href="/page/21/">21</a><a class="page-number" href="/page/22/">22</a><a class="page-number" href="/page/23/">23</a><span class="page-number current">24</span><a class="page-number" href="/page/25/">25</a><a class="page-number" href="/page/26/">26</a><a class="page-number" href="/page/27/">27</a><a class="page-number" href="/page/28/">28</a><a class="page-number" href="/page/29/">29</a><a class="page-number" href="/page/30/">30</a><a class="page-number" href="/page/31/">31</a><a class="page-number" href="/page/32/">32</a><a class="page-number" href="/page/33/">33</a><a class="page-number" href="/page/34/">34</a><span class="space">&hellip;</span><a class="page-number" href="/page/36/">36</a><a class="extend next" rel="next" href="/page/25/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  

  <aside id="sidebar" class="sidebar">

    
      
        <div id="sidebar-dimmer"></div>
      
    

    <div class="sidebar-inner">
    
      <div class="sidebar-toggle-inside motion-element">
        <div class="sidebar-toggle-line-wrap">
          <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
          <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
          <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
        </div>
      </div>

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a href="/" class="site-author-image" rel="start" style="border:none">
            <img class="site-author-image" itemprop="image" src="/uploads/avatar.png" alt="Mike">
          </a>
          <p class="site-author-name" itemprop="name">Mike</p>
           
              <p class="site-description motion-element" itemprop="description">ğŸš™ ğŸš— ğŸ’¨ ğŸ’¨ If you want to create a blog like this, just follow my open-source project, "hexo-theme-neo", click the GitHub button below and check it out ^_^ . It is recommended to use Chrome, Safari, or Edge to read this blog since this blog was developed on Edge (Chromium kernel version) and tested on Safari.</p>
          
        </div>

        <nav class="site-state motion-element">

          
            
            
            <div class="site-state-item site-state-categories">
              <a href="/categories/index.html">
                <span class="site-state-item-count">11</span>
                <span class="site-state-item-name">categories</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-posts">
              <a href="/archives/">
                <span class="site-state-item-count">283</span>
                <span class="site-state-item-name">posts</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">105</span>
                <span class="site-state-item-name">tags</span>
              </a>
            </div>
          

          <div class="site-state-item site-state-about">
            <a href="/about/">
              <span class="site-state-item-about fa fa-fw fa-user"></span>
              <span class="site-state-item-name">about</span>
            </a>
          </div>
          
        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/no5ix" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                    
                      GitHub
                    
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://open.spotify.com/user/313duq77ekebrfyak3xijqewzss4?si=e7653b829a9747bf" target="_blank" title="Spotify">
                  
                    <i class="fa fa-fw fa-spotify"></i>
                  
                    
                      Spotify
                    
                </a>
              </span>
            
          
          
          <!-- ç½‘æ˜“äº‘éŸ³ä¹ -->
            <!-- <div class="netease-cloud-music"> -->
              <!-- <iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=280 height=110 src="//music.163.com/outchain/player?type=0&id=992743594&auto=0&height=90"></iframe> -->
            <!-- </div> -->
          <!-- ç½‘æ˜“äº‘éŸ³ä¹ -->

        </div>

        
        

        
        

        

        


      </section>

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">
  
  &copy;  2013 - 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Mike</span>
</div>



        

        
      </div>
    </footer>

    <!--
    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
      
        <span id="scrollpercent"><span>0</span>%</span>
      
    </div>
    -->

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>











  















  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/mediumzoom/medium-zoom.js?v=1.1.0"></script>




  




  <script type="text/javascript" src="/js/src/utils.js?v=5.1.2"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.2"></script>


  
  

  
    <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.2"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.2"></script>

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.2"></script>



  


  




	





  





  






  

    <script src="/js/src/local-search.js"></script>





  

  

  

  

  

  


  <script type="text/javascript" src="/lib/wobble_window/wobblewindow.js"> </script>
<script type="text/javascript" src="/js/src/custom.js"></script>
</body>
</html>






<script type="text/javascript" src="/js/src/headroom.js"></script> 

<!-- ä»£ç å—å¤åˆ¶åŠŸèƒ½ -->
<script type="text/javascript" src="/js/src/code-highlight-modification.js"></script>
